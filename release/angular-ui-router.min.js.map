{"version":3,"file":null,"sources":["../node_modules/ui-router-core/src/common/hof.ts","../node_modules/ui-router-core/src/common/predicates.ts","../node_modules/ui-router-core/src/common/common.ts","../node_modules/ui-router-core/src/common/trace.ts","../node_modules/ui-router-core/src/transition/hookRegistry.ts","../node_modules/ui-router-core/src/transition/hookBuilder.ts","../node_modules/ui-router-core/src/params/paramType.ts","../node_modules/ui-router-core/src/params/param.ts","../node_modules/ui-router-core/src/common/strings.ts","../node_modules/ui-router-core/src/params/paramTypes.ts","../node_modules/ui-router-core/src/state/stateBuilder.ts","../node_modules/ui-router-core/src/url/urlMatcher.ts","../node_modules/ui-router-core/src/url/urlRouter.ts","../node_modules/ui-router-core/src/hooks/coreResolvables.ts","../node_modules/ui-router-core/src/hooks/onEnterExitRetain.ts","../node_modules/ui-router-core/src/hooks/lazyLoad.ts","../node_modules/ui-router-core/src/hooks/ignoredTransition.ts","../node_modules/ui-router-core/src/hooks/invalidTransition.ts","../node_modules/ui-router-core/src/vanilla/utils.ts","../node_modules/ui-router-core/src/vanilla/plugins.ts","../src/statebuilders/views.ts","../src/templateFactory.ts","../src/services.ts","../src/directives/stateDirectives.ts","../src/stateFilters.ts","../src/directives/viewDirective.ts","../src/viewScroll.ts","../node_modules/ui-router-core/src/common/glob.ts","../node_modules/ui-router-core/src/state/stateObject.ts","../node_modules/ui-router-core/src/common/coreservices.ts","../node_modules/ui-router-core/src/common/queue.ts","../node_modules/ui-router-core/src/transition/rejectFactory.ts","../node_modules/ui-router-core/src/transition/interface.ts","../node_modules/ui-router-core/src/state/targetState.ts","../node_modules/ui-router-core/src/transition/transitionHook.ts","../node_modules/ui-router-core/src/path/node.ts","../node_modules/ui-router-core/src/path/pathFactory.ts","../node_modules/ui-router-core/src/resolve/resolvable.ts","../node_modules/ui-router-core/src/resolve/interface.ts","../node_modules/ui-router-core/src/resolve/resolveContext.ts","../node_modules/ui-router-core/src/transition/transition.ts","../node_modules/ui-router-core/src/params/stateParams.ts","../node_modules/ui-router-core/src/state/stateMatcher.ts","../node_modules/ui-router-core/src/state/stateQueueManager.ts","../node_modules/ui-router-core/src/state/stateRegistry.ts","../node_modules/ui-router-core/src/url/urlMatcherFactory.ts","../node_modules/ui-router-core/src/url/urlRule.ts","../node_modules/ui-router-core/src/view/view.ts","../node_modules/ui-router-core/src/globals.ts","../node_modules/ui-router-core/src/url/urlService.ts","../node_modules/ui-router-core/src/router.ts","../node_modules/ui-router-core/src/hooks/redirectTo.ts","../node_modules/ui-router-core/src/hooks/resolve.ts","../node_modules/ui-router-core/src/hooks/views.ts","../node_modules/ui-router-core/src/hooks/updateGlobals.ts","../node_modules/ui-router-core/src/hooks/url.ts","../node_modules/ui-router-core/src/transition/transitionEventType.ts","../node_modules/ui-router-core/src/transition/transitionService.ts","../node_modules/ui-router-core/src/state/stateService.ts","../node_modules/ui-router-core/src/vanilla/$q.ts","../node_modules/ui-router-core/src/vanilla/$injector.ts","../node_modules/ui-router-core/src/vanilla/baseLocationService.ts","../node_modules/ui-router-core/src/vanilla/hashLocationService.ts","../node_modules/ui-router-core/src/vanilla/memoryLocationService.ts","../node_modules/ui-router-core/src/vanilla/pushStateLocationService.ts","../node_modules/ui-router-core/src/vanilla/memoryLocationConfig.ts","../node_modules/ui-router-core/src/vanilla/browserLocationConfig.ts","../node_modules/ui-router-core/src/interface.ts","../src/angular.ts","../src/stateProvider.ts","../src/statebuilders/onEnterExitRetain.ts","../src/locationServices.ts","../src/urlRouterProvider.ts","../src/index.ts"],"sourcesContent":[{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/common/hof.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/common/predicates.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/common/common.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/common/trace.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/transition/hookRegistry.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/transition/hookBuilder.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/params/paramType.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/params/param.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/common/strings.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/params/paramTypes.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/state/stateBuilder.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/url/urlMatcher.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/url/urlRouter.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/coreResolvables.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/onEnterExitRetain.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/lazyLoad.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/ignoredTransition.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/invalidTransition.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/utils.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/plugins.ts"},"/** @module ng1 */ /** */\nimport { ng as angular } from \"../angular\";\nimport {\n    StateObject, pick, forEach, tail, extend,\n    isArray, isInjectable, isDefined, isString, services, trace,\n    ViewConfig, ViewService, ViewConfigFactory, PathNode, ResolveContext, Resolvable, IInjectable\n} from \"ui-router-core\";\nimport { Ng1ViewDeclaration } from \"../interface\";\nimport { TemplateFactory } from \"../templateFactory\";\nimport IInjectorService = angular.auto.IInjectorService;\n\nexport function getNg1ViewConfigFactory(): ViewConfigFactory {\n  let templateFactory: TemplateFactory = null;\n  return (path, view) => {\n    templateFactory = templateFactory || services.$injector.get(\"$templateFactory\");\n    return [new Ng1ViewConfig(path, view, templateFactory)];\n  };\n}\n\nconst hasAnyKey = (keys, obj) =>\n    keys.reduce((acc, key) => acc || isDefined(obj[key]), false);\n\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `views`.\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * handles the `views` property with logic specific to angular-ui-router (ng1).\n *\n * If no `views: {}` property exists on the [[StateDeclaration]], then it creates the `views` object\n * and applies the state-level configuration to a view named `$default`.\n */\nexport function ng1ViewsBuilder(state: StateObject) {\n  // Do not process root state\n  if (!state.parent) return {};\n\n  let tplKeys = ['templateProvider', 'templateUrl', 'template', 'notify', 'async'],\n      ctrlKeys = ['controller', 'controllerProvider', 'controllerAs', 'resolveAs'],\n      compKeys = ['component', 'bindings', 'componentProvider'],\n      nonCompKeys = tplKeys.concat(ctrlKeys),\n      allViewKeys = compKeys.concat(nonCompKeys);\n\n  // Do not allow a state to have both state-level props and also a `views: {}` property.\n  // A state without a `views: {}` property can declare properties for the `$default` view as properties of the state.\n  // However, the `$default` approach should not be mixed with a separate `views: ` block.\n  if (isDefined(state.views) && hasAnyKey(allViewKeys, state)) {\n    throw new Error(`State '${state.name}' has a 'views' object. ` +\n        `It cannot also have \"view properties\" at the state level.  ` +\n        `Move the following properties into a view (in the 'views' object): ` +\n        ` ${allViewKeys.filter(key => isDefined(state[key])).join(\", \")}`);\n  }\n\n  let views: { [key: string]: Ng1ViewDeclaration } = {},\n      viewsObject = state.views || { \"$default\": pick(state, allViewKeys) };\n\n  forEach(viewsObject, function (config: Ng1ViewDeclaration, name: string) {\n    // Account for views: { \"\": { template... } }\n    name = name || \"$default\";\n    // Account for views: { header: \"headerComponent\" }\n    if (isString(config)) config = { component: <string> config };\n\n    // Make a shallow copy of the config object\n    config = extend({}, config);\n\n    // Do not allow a view to mix props for component-style view with props for template/controller-style view\n    if (hasAnyKey(compKeys, config) && hasAnyKey(nonCompKeys, config)) {\n      throw new Error(`Cannot combine: ${compKeys.join(\"|\")} with: ${nonCompKeys.join(\"|\")} in stateview: '${name}@${state.name}'`);\n    }\n\n    config.resolveAs = config.resolveAs || '$resolve';\n    config.$type = \"ng1\";\n    config.$context = state;\n    config.$name = name;\n\n    let normalized = ViewService.normalizeUIViewTarget(config.$context, config.$name);\n    config.$uiViewName = normalized.uiViewName;\n    config.$uiViewContextAnchor = normalized.uiViewContextAnchor;\n\n    views[name] = config;\n  });\n  return views;\n}\n\nlet id = 0;\nexport class Ng1ViewConfig implements ViewConfig {\n  $id = id++;\n  loaded: boolean = false;\n  controller: Function; // actually IInjectable|string\n  template: string;\n  component: string;\n  locals: any; // TODO: delete me\n\n  constructor(public path: PathNode[], public viewDecl: Ng1ViewDeclaration, public factory: TemplateFactory) { }\n\n  load() {\n    let $q = services.$q;\n    let context = new ResolveContext(this.path);\n    let params = this.path.reduce((acc, node) => extend(acc, node.paramValues), {});\n\n    let promises: any = {\n      template: $q.when(this.factory.fromConfig(this.viewDecl, params, context)),\n      controller: $q.when(this.getController(context))\n    };\n\n    return $q.all(promises).then((results) => {\n      trace.traceViewServiceEvent(\"Loaded\", this);\n      this.controller = results.controller;\n      extend(this, results.template); // Either { template: \"tpl\" } or { component: \"cmpName\" }\n      return this;\n    });\n  }\n\n  getTemplate = (uiView, context: ResolveContext) =>\n    this.component ? this.factory.makeComponentTemplate(uiView, context, this.component, this.viewDecl.bindings) : this.template;\n\n  /**\n   * Gets the controller for a view configuration.\n   *\n   * @returns {Function|Promise.<Function>} Returns a controller, or a promise that resolves to a controller.\n   */\n  getController(context: ResolveContext): (IInjectable|string|Promise<IInjectable|string>) {\n    let provider = this.viewDecl.controllerProvider;\n    if (!isInjectable(provider)) return this.viewDecl.controller;\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any> provider) : provider;\n    let resolvable = new Resolvable(\"\", <any> providerFn, deps);\n    return resolvable.get(context);\n  }\n}\n","/** @module view */\n/** for typedoc */\nimport { ng as angular } from \"./angular\";\nimport { IAugmentedJQuery } from \"angular\";\nimport {\n  isArray, isDefined, isFunction, isObject, services, Obj, IInjectable, tail, kebobString, unnestR, ResolveContext,\n  Resolvable, RawParams, prop\n} from \"ui-router-core\";\nimport { Ng1ViewDeclaration, TemplateFactoryProvider } from \"./interface\";\n\n/**\n * Service which manages loading of templates from a ViewConfig.\n */\nexport class TemplateFactory implements TemplateFactoryProvider {\n  /** @hidden */ private _useHttp = angular.version.minor < 3;\n  /** @hidden */ private $templateRequest;\n  /** @hidden */ private $templateCache;\n  /** @hidden */ private $http;\n\n  /** @hidden */ $get = ['$http', '$templateCache', '$injector', ($http, $templateCache, $injector) => {\n    this.$templateRequest = $injector.has && $injector.has('$templateRequest') && $injector.get('$templateRequest');\n    this.$http = $http;\n    this.$templateCache = $templateCache;\n    return this;\n  }];\n\n  /** @hidden */\n  useHttpService(value: boolean) {\n    this._useHttp = value;\n  };\n\n  /**\n   * Creates a template from a configuration object.\n   *\n   * @param config Configuration object for which to load a template.\n   * The following properties are search in the specified order, and the first one \n   * that is defined is used to create the template:\n   *\n   * @param params  Parameters to pass to the template function.\n   * @param context The resolve context associated with the template's view\n   *\n   * @return {string|object}  The template html as a string, or a promise for \n   * that string,or `null` if no template is configured.\n   */\n  fromConfig(config: Ng1ViewDeclaration, params: any, context: ResolveContext) {\n    const defaultTemplate = \"<ui-view></ui-view>\";\n\n    const asTemplate = (result) => services.$q.when(result).then(str => ({ template: str }));\n    const asComponent = (result) => services.$q.when(result).then(str => ({ component: str }));\n\n    return (\n      isDefined(config.template)          ? asTemplate(this.fromString(config.template, params)) :\n      isDefined(config.templateUrl)       ? asTemplate(this.fromUrl(config.templateUrl, params)) :\n      isDefined(config.templateProvider)  ? asTemplate(this.fromProvider(config.templateProvider, params, context)) :\n      isDefined(config.component)         ? asComponent(config.component) :\n      isDefined(config.componentProvider) ? asComponent(this.fromComponentProvider(config.componentProvider, params, context)) :\n      asTemplate(defaultTemplate)\n    );\n  };\n\n  /**\n   * Creates a template from a string or a function returning a string.\n   *\n   * @param template html template as a string or function that returns an html template as a string.\n   * @param params Parameters to pass to the template function.\n   *\n   * @return {string|object} The template html as a string, or a promise for that \n   * string.\n   */\n  fromString(template: (string|Function), params?: RawParams) {\n    return isFunction(template) ? (<any> template)(params) : template;\n  };\n\n  /**\n   * Loads a template from the a URL via `$http` and `$templateCache`.\n   *\n   * @param {string|Function} url url of the template to load, or a function \n   * that returns a url.\n   * @param {Object} params Parameters to pass to the url function.\n   * @return {string|Promise.<string>} The template html as a string, or a promise \n   * for that string.\n   */\n  fromUrl(url: (string|Function), params: any) {\n    if (isFunction(url)) url = (<any> url)(params);\n    if (url == null) return null;\n\n    if (this._useHttp) {\n      return this.$http.get(url, { cache: this.$templateCache, headers: { Accept: 'text/html' }})\n          .then(function(response) { return response.data; });\n    }\n\n    return this.$templateRequest(url);\n  };\n\n  /**\n   * Creates a template by invoking an injectable provider function.\n   *\n   * @param provider Function to invoke via `locals`\n   * @param {Function} injectFn a function used to invoke the template provider\n   * @return {string|Promise.<string>} The template html as a string, or a promise \n   * for that string.\n   */\n  fromProvider(provider: IInjectable, params: any, context: ResolveContext) {\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any[]> provider) : provider;\n    let resolvable = new Resolvable(\"\", <Function> providerFn, deps);\n    return resolvable.get(context);\n  };\n\n  /**\n   * Creates a component's template by invoking an injectable provider function.\n   *\n   * @param provider Function to invoke via `locals`\n   * @param {Function} injectFn a function used to invoke the template provider\n   * @return {string} The template html as a string: \"<component-name input1='::$resolve.foo'></component-name>\".\n   */\n  fromComponentProvider(provider: IInjectable, params: any, context: ResolveContext) {\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any[]> provider) : provider;\n    let resolvable = new Resolvable(\"\", <Function> providerFn, deps);\n    return resolvable.get(context);\n  };\n\n  /**\n   * Creates a template from a component's name\n   *\n   * This implements route-to-component.\n   * It works by retrieving the component (directive) metadata from the injector.\n   * It analyses the component's bindings, then constructs a template that instantiates the component.\n   * The template wires input and output bindings to resolves or from the parent component.\n   *\n   * @param uiView {object} The parent ui-view (for binding outputs to callbacks)\n   * @param context The ResolveContext (for binding outputs to callbacks returned from resolves)\n   * @param component {string} Component's name in camel case.\n   * @param bindings An object defining the component's bindings: {foo: '<'}\n   * @return {string} The template as a string: \"<component-name input1='::$resolve.foo'></component-name>\".\n   */\n  makeComponentTemplate(uiView: IAugmentedJQuery, context: ResolveContext, component: string, bindings?: any) {\n    bindings = bindings || {};\n\n    // Bind once prefix\n    const prefix = angular.version.minor >= 3 ? \"::\" : \"\";\n\n    const attributeTpl = (input: BindingTuple) => {\n      let {name, type } = input;\n      let attrName = kebobString(name);\n      // If the ui-view has an attribute which matches a binding on the routed component\n      // then pass that attribute through to the routed component template.\n      // Prefer ui-view wired mappings to resolve data, unless the resolve was explicitly bound using `bindings:`\n      if (uiView.attr(attrName) && !bindings[name])\n        return `x-${attrName}='${uiView.attr(attrName)}'`;\n\n      let resolveName = bindings[name] || name;\n      // Pre-evaluate the expression for \"@\" bindings by enclosing in {{ }}\n      // some-attr=\"{{ ::$resolve.someResolveName }}\"\n      if (type === '@')\n        return `x-${attrName}='{{${prefix}$resolve.${resolveName}}}'`;\n\n      // Wire \"&\" callbacks to resolves that return a callback function\n      // Get the result of the resolve (should be a function) and annotate it to get its arguments.\n      // some-attr=\"$resolve.someResolveResultName(foo, bar)\"\n      if (type === '&') {\n        let res = context.getResolvable(resolveName);\n        let fn = res && res.data;\n        let args = fn && services.$injector.annotate(fn) || [];\n        // account for array style injection, i.e., ['foo', function(foo) {}]\n        let arrayIdxStr = isArray(fn) ? `[${fn.length - 1}]` : '';\n        return `x-${attrName}='$resolve.${resolveName}${arrayIdxStr}(${args.join(\",\")})'`;\n      }\n\n      // some-attr=\"::$resolve.someResolveName\"\n      return `x-${attrName}='${prefix}$resolve.${resolveName}'`;\n    };\n\n    let attrs = getComponentBindings(component).map(attributeTpl).join(\" \");\n    let kebobName = \"x-\" + kebobString(component);\n    return `<${kebobName} ${attrs}></${kebobName}>`;\n  };\n}\n\n// Gets all the directive(s)' inputs ('@', '=', and '<') and outputs ('&')\nfunction getComponentBindings(name: string) {\n  let cmpDefs = <any[]> services.$injector.get(name + \"Directive\"); // could be multiple\n  if (!cmpDefs || !cmpDefs.length) throw new Error(`Unable to find component named '${name}'`);\n  return cmpDefs.map(getBindings).reduce(unnestR, []);\n}\n\n// Given a directive definition, find its object input attributes\n// Use different properties, depending on the type of directive (component, bindToController, normal)\nconst getBindings = (def: any) => {\n  if (isObject(def.bindToController)) return scopeBindings(def.bindToController);\n  return scopeBindings(def.scope);\n};\n\ninterface BindingTuple {\n  name: string;\n  type: string;\n}\n\n// for ng 1.2 style, process the scope: { input: \"=foo\" }\n// for ng 1.3 through ng 1.5, process the component's bindToController: { input: \"=foo\" } object\nconst scopeBindings = (bindingsObj: Obj) => Object.keys(bindingsObj || {})\n    // [ 'input', [ '=foo', '=', 'foo' ] ]\n    .map(key => [key, /^([=<@&])[?]?(.*)/.exec(bindingsObj[key])])\n    // skip malformed values\n    .filter(tuple => isDefined(tuple) && isArray(tuple[1]))\n    // { name: ('foo' || 'input'), type: '=' }\n    .map(tuple => ({ name: tuple[1][2] || tuple[0], type: tuple[1][1] } as BindingTuple));\n\n","/**\n * # Angular 1 types\n *\n * UI-Router core provides various Typescript types which you can use for code completion and validating parameter values, etc.\n * The customizations to the core types for Angular UI-Router are documented here.\n *\n * The optional [[$resolve]] service is also documented here.\n *\n * @module ng1\n * @preferred\n */\n/** for typedoc */\nimport { ng as angular } from \"./angular\";\nimport { TypedMap } from \"ui-router-core\"; // has or is using\nimport {\n  IRootScopeService, IQService, ILocationService, ILocationProvider, IHttpService, ITemplateCacheService\n} from \"angular\";\nimport {\n  services, applyPairs, isString, trace, extend, UIRouter, StateService, UrlRouter, UrlMatcherFactory, ResolveContext, unnestR\n} from \"ui-router-core\";\nimport { ng1ViewsBuilder, getNg1ViewConfigFactory } from \"./statebuilders/views\";\nimport { TemplateFactory } from \"./templateFactory\";\nimport { StateProvider } from \"./stateProvider\";\nimport { getStateHookBuilder } from \"./statebuilders/onEnterExitRetain\";\nimport { Ng1LocationServices } from \"./locationServices\";\nimport { UrlRouterProvider } from \"./urlRouterProvider\";\nimport IInjectorService = angular.auto.IInjectorService;\n\nangular.module(\"ui.router.angular1\", []);\nlet mod_init  = angular.module('ui.router.init',   []);\nlet mod_util  = angular.module('ui.router.util',   ['ng', 'ui.router.init']);\nlet mod_rtr   = angular.module('ui.router.router', ['ui.router.util']);\nlet mod_state = angular.module('ui.router.state',  ['ui.router.router', 'ui.router.util', 'ui.router.angular1']);\nlet mod_main  = angular.module('ui.router',        ['ui.router.init', 'ui.router.state', 'ui.router.angular1']);\nlet mod_cmpt  = angular.module('ui.router.compat', ['ui.router']);\n\ndeclare module 'ui-router-core/lib/router' {\n  interface UIRouter {\n    /** @hidden */\n    stateProvider: StateProvider;\n    /** @hidden */\n    urlRouterProvider: UrlRouterProvider;\n  }\n}\n\nlet router: UIRouter = null;\n\n$uiRouter.$inject = ['$locationProvider'];\n/** This angular 1 provider instantiates a Router and exposes its services via the angular injector */\nfunction $uiRouter($locationProvider: ILocationProvider) {\n\n  // Create a new instance of the Router when the $uiRouterProvider is initialized\n  router = this.router = new UIRouter();\n  router.stateProvider = new StateProvider(router.stateRegistry, router.stateService);\n\n  // Apply ng1 specific StateBuilder code for `views`, `resolve`, and `onExit/Retain/Enter` properties\n  router.stateRegistry.decorator(\"views\",    ng1ViewsBuilder);\n  router.stateRegistry.decorator(\"onExit\",   getStateHookBuilder(\"onExit\"));\n  router.stateRegistry.decorator(\"onRetain\", getStateHookBuilder(\"onRetain\"));\n  router.stateRegistry.decorator(\"onEnter\",  getStateHookBuilder(\"onEnter\"));\n\n  router.viewService._pluginapi._viewConfigFactory('ng1', getNg1ViewConfigFactory());\n\n  let ng1LocationService = router.locationService = router.locationConfig = new Ng1LocationServices($locationProvider);\n\n  Ng1LocationServices.monkeyPatchPathParameterType(router);\n\n  // backwards compat: also expose router instance as $uiRouterProvider.router\n  router['router'] = router;\n  router['$get'] = $get;\n  $get.$inject = ['$location', '$browser', '$sniffer', '$rootScope', '$http', '$templateCache'];\n  function $get($location: ILocationService, $browser: any, $sniffer: any, $rootScope: ng.IScope, $http: IHttpService, $templateCache: ITemplateCacheService) {\n    ng1LocationService._runtimeServices($rootScope, $location, $sniffer, $browser);\n    delete router['router'];\n    delete router['$get'];\n    return router;\n  }\n  return router;\n}\n\nconst getProviderFor = (serviceName) => [ '$uiRouterProvider', ($urp) => {\n  let service = $urp.router[serviceName];\n  service[\"$get\"] = () => service;\n  return service;\n}];\n\n// This effectively calls $get() on `$uiRouterProvider` to trigger init (when ng enters runtime)\nrunBlock.$inject = ['$injector', '$q', '$uiRouter'];\nfunction runBlock($injector: IInjectorService, $q: IQService, $uiRouter: UIRouter) {\n  services.$injector = $injector;\n  services.$q = <any> $q;\n\n  // The $injector is now available.\n  // Find any resolvables that had dependency annotation deferred\n  $uiRouter.stateRegistry.get()\n      .map(x => x.$$state().resolvables)\n      .reduce(unnestR, [])\n      .filter(x => x.deps === \"deferred\")\n      .forEach(resolvable => resolvable.deps = $injector.annotate(resolvable.resolveFn));\n}\n\n// $urlRouter service and $urlRouterProvider\nconst getUrlRouterProvider = (router: UIRouter) =>\n  router.urlRouterProvider = new UrlRouterProvider(router);\n\n// $state service and $stateProvider\n// $urlRouter service and $urlRouterProvider\nconst getStateProvider = () =>\n    extend(router.stateProvider, { $get: () => router.stateService });\n\nwatchDigests.$inject = ['$rootScope'];\nexport function watchDigests($rootScope: IRootScopeService) {\n  $rootScope.$watch(function() { trace.approximateDigests++; });\n}\n\nmod_init .provider(\"$uiRouter\",          <any> $uiRouter);\nmod_rtr  .provider('$urlRouter',         ['$uiRouterProvider', getUrlRouterProvider]);\nmod_util .provider('$urlService',        getProviderFor('urlService'));\nmod_util .provider('$urlMatcherFactory', ['$uiRouterProvider', () => router.urlMatcherFactory]);\nmod_util .provider('$templateFactory',   () => new TemplateFactory());\nmod_state.provider('$stateRegistry',     getProviderFor('stateRegistry'));\nmod_state.provider('$uiRouterGlobals',   getProviderFor('globals'));\nmod_state.provider('$transitions',       getProviderFor('transitionService'));\nmod_state.provider('$state',             ['$uiRouterProvider', getStateProvider]);\n\nmod_state.factory ('$stateParams',       ['$uiRouter', ($uiRouter: UIRouter) => $uiRouter.globals.params]);\nmod_main .factory ('$view',              () => router.viewService);\nmod_main .service (\"$trace\",             () => trace);\n\nmod_main .run     (watchDigests);\nmod_util .run     (['$urlMatcherFactory', function ($urlMatcherFactory: UrlMatcherFactory) { }]);\nmod_state.run     (['$state', function ($state: StateService) { }]);\nmod_rtr  .run     (['$urlRouter', function ($urlRouter: UrlRouter) { }]);\nmod_init .run     (runBlock);\n\n/** @hidden TODO: find a place to move this */\nexport const getLocals = (ctx: ResolveContext) => {\n  let tokens = ctx.getTokens().filter(isString);\n\n  let tuples = tokens .map(key => {\n    let resolvable = ctx.getResolvable(key);\n    let waitPolicy = ctx.getPolicy(resolvable).async;\n    return [ key, waitPolicy === 'NOWAIT' ? resolvable.promise : resolvable.data ]\n  });\n\n  return tuples.reduce(applyPairs, {});\n};\n\n","/**\n * # Angular 1 Directives\n *\n * These are the directives included in UI-Router for Angular 1.\n * These directives are used in templates to create viewports and link/navigate to states.\n *\n * @ng1api\n * @preferred\n * @module directives\n */ /** for typedoc */\nimport { ng as angular } from \"../angular\";\nimport { IAugmentedJQuery, ITimeoutService, IScope, IInterpolateService } from \"angular\";\n\nimport {\n    Obj, extend, forEach, tail, isString, isObject, isArray, parse, noop, unnestR, identity, uniqR, inArray, removeFrom,\n    RawParams, PathNode, StateOrName, StateService, StateDeclaration, UIRouter\n} from \"ui-router-core\";\nimport { UIViewData } from \"./viewDirective\";\n\n/** @hidden Used for typedoc */\nexport interface ng1_directive {}\n\n/** @hidden */\nfunction parseStateRef(ref: string) {\n  let paramsOnly = ref.match(/^\\s*({[^}]*})\\s*$/), parsed;\n  if (paramsOnly) ref = '(' + paramsOnly[1] + ')';\n\n  parsed = ref.replace(/\\n/g, \" \").match(/^\\s*([^(]*?)\\s*(\\((.*)\\))?\\s*$/);\n  if (!parsed || parsed.length !== 4) throw new Error(\"Invalid state ref '\" + ref + \"'\");\n  return { state: parsed[1] || null, paramExpr: parsed[3] || null };\n}\n\n/** @hidden */\nfunction stateContext(el: IAugmentedJQuery) {\n  let $uiView: UIViewData = (el.parent() as IAugmentedJQuery).inheritedData('$uiView');\n  let path: PathNode[] = parse('$cfg.path')($uiView);\n  return path ? tail(path).state.name : undefined;\n}\n\n/** @hidden */\nfunction processedDef($state: StateService, $element: IAugmentedJQuery, def: Def): Def {\n  let uiState = def.uiState || $state.current.name;\n  let uiStateOpts = extend(defaultOpts($element, $state), def.uiStateOpts || {});\n  let href = $state.href(uiState, def.uiStateParams, uiStateOpts);\n  return { uiState, uiStateParams: def.uiStateParams, uiStateOpts, href };\n}\n\n/** @hidden */\ninterface TypeInfo {\n  attr: string;\n  isAnchor: boolean;\n  clickable: boolean;\n}\n\n/** @hidden */\nfunction getTypeInfo(el: IAugmentedJQuery): TypeInfo {\n  // SVGAElement does not use the href attribute, but rather the 'xlinkHref' attribute.\n  var isSvg = Object.prototype.toString.call(el.prop('href')) === '[object SVGAnimatedString]';\n  var isForm = el[0].nodeName === \"FORM\";\n\n  return {\n    attr: isForm ? \"action\" : (isSvg ? 'xlink:href' : 'href'),\n    isAnchor: el.prop(\"tagName\").toUpperCase() === \"A\",\n    clickable: !isForm\n  };\n}\n\n/** @hidden */\nfunction clickHook(el: IAugmentedJQuery, $state: StateService, $timeout: ITimeoutService, type: TypeInfo, getDef: () => Def) {\n  return function (e: JQueryMouseEventObject) {\n    var button = e.which || e.button, target = getDef();\n\n    if (!(button > 1 || e.ctrlKey || e.metaKey || e.shiftKey || el.attr('target'))) {\n      // HACK: This is to allow ng-clicks to be processed before the transition is initiated:\n      var transition = $timeout(function () {\n        $state.go(target.uiState, target.uiStateParams, target.uiStateOpts);\n      });\n      e.preventDefault();\n\n      // if the state has no URL, ignore one preventDefault from the <a> directive.\n      var ignorePreventDefaultCount = type.isAnchor && !target.href ? 1 : 0;\n\n      e.preventDefault = function () {\n        if (ignorePreventDefaultCount-- <= 0) $timeout.cancel(transition);\n      };\n    }\n  };\n}\n\n/** @hidden */\nfunction defaultOpts(el: IAugmentedJQuery, $state: StateService) {\n  return {\n    relative: stateContext(el) || $state.$current,\n    inherit: true,\n    source: \"sref\"\n  };\n}\n\n/** @hidden */\nfunction bindEvents(element: IAugmentedJQuery, scope: IScope, hookFn: (e: JQueryMouseEventObject) => void, uiStateOpts: any): void {\n  let events;\n\n  if (uiStateOpts) {\n    events = uiStateOpts.events;\n  }\n\n  if (!isArray(events)) {\n    events = ['click'];\n  }\n\n  let on = element.on ? 'on' : 'bind';\n  for (let event of events) {\n    element[on](event, hookFn);\n  }\n\n  scope.$on('$destroy', function() {\n    let off = element.off ? 'off' : 'unbind';\n    for (let event of events) {\n      element[off](event, hookFn);\n    }\n  });\n}\n\n/**\n * `ui-sref`: A directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of the `ui-sref` is the name of the state to link to.\n *\n * #### Example:\n * This will activate the `home` state when the link is clicked.\n * ```html\n * <a ui-sref=\"home\">Home</a>\n * ```\n *\n * ### Relative Links\n * You can also use relative state paths within `ui-sref`, just like a relative path passed to `$state.go()` ([[StateService.go]]).\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create a relative `ui-sref` which always targets the same destination.\n *\n * #### Example:\n * Both these links are relative to the parent state, even when a child state is currently active.\n * ```html\n * <a ui-sref=\".child1\">child 1 state</a>\n * <a ui-sref=\".child2\">child 2 state</a>\n * ```\n *\n * This link activates the parent state.\n * ```html\n * <a ui-sref=\"^\">Return</a>\n * ```\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * #### Example:\n * Assuming the `users` state has a url of `/users/`\n * ```html\n * <a ui-sref=\"users\" href=\"/users/\">Users</a>\n * ```\n *\n * ### Parameter Values\n * In addition to the state name, a `ui-sref` can include parameter values which are applied when activating the state.\n * Param values can be provided in the `ui-sref` value after the state name, enclosed by parentheses.\n * The content inside the parentheses is an expression, evaluated to the parameter values.\n *\n * #### Example:\n * This example renders a list of links to users.\n * The state's `userId` parameter value comes from each user's `user.id` property.\n * ```html\n * <li ng-repeat=\"user in users\">\n *   <a ui-sref=\"users.detail({ userId: user.id })\">{{ user.displayName }}</a>\n * </li>\n * ```\n *\n * Note:\n * The parameter values expression is `$watch`ed for updates.\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-sref-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n *\n * #### Example:\n * ```html\n * <a ui-sref=\"home\" ui-sref-opts=\"{ reload: true }\">Home</a>\n * ```\n *\n * ### Other DOM Events\n *\n * You can also customize which DOM events to respond to (instead of `click`) by\n * providing an `events` array in the `ui-sref-opts` attribute.\n *\n * #### Example:\n * ```html\n * <input type=\"text\" ui-sref=\"contacts\" ui-sref-opts=\"{ events: ['change', 'blur'] }\">\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Examples\n * If you have the following template:\n *\n * ```html\n * <a ui-sref=\"home\">Home</a>\n * <a ui-sref=\"about\">About</a>\n * <a ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a ui-sref=\"contacts.detail({ id: contact.id })\">{{ contact.name }}</a>\n *     </li>\n * </ul>\n * ```\n *\n * Then (assuming the current state is `contacts`) the rendered html including hrefs would be:\n *\n * ```html\n * <a href=\"#/home\" ui-sref=\"home\">Home</a>\n * <a href=\"#/about\" ui-sref=\"about\">About</a>\n * <a href=\"#/contacts?page=2\" ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/1\" ui-sref=\"contacts.detail({ id: contact.id })\">Joe</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/2\" ui-sref=\"contacts.detail({ id: contact.id })\">Alice</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/3\" ui-sref=\"contacts.detail({ id: contact.id })\">Bob</a>\n *     </li>\n * </ul>\n *\n * <a href=\"#/home\" ui-sref=\"home\" ui-sref-opts=\"{reload: true}\">Home</a>\n * ```\n *\n * ### Notes\n *\n * - You can use `ui-sref` to change **only the parameter values** by omitting the state name and parentheses.\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-sref=\"{ lang: 'en' }\">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n *\n * - Unlike the parameter values expression, the state name is not `$watch`ed (for performance reasons).\n * If you need to dynamically update the state being linked to, use the fully dynamic [[uiState]] directive.\n */\nlet uiSref: ng1_directive;\nuiSref = ['$uiRouter', '$timeout',\n  function $StateRefDirective($uiRouter: UIRouter, $timeout: ITimeoutService) {\n    let $state = $uiRouter.stateService;\n\n    return {\n      restrict: 'A',\n      require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n      link: function (scope: IScope, element: IAugmentedJQuery, attrs: any, uiSrefActive: any) {\n        let type = getTypeInfo(element);\n        let active = uiSrefActive[1] || uiSrefActive[0];\n        let unlinkInfoFn: Function = null;\n        let hookFn;\n\n        let rawDef = {} as Def;\n        let getDef = () => processedDef($state, element, rawDef);\n\n        let ref = parseStateRef(attrs.uiSref);\n        rawDef.uiState = ref.state;\n        rawDef.uiStateOpts = attrs.uiSrefOpts ? scope.$eval(attrs.uiSrefOpts) : {};\n\n        function update() {\n          let def = getDef();\n          if (unlinkInfoFn) unlinkInfoFn();\n          if (active) unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n          if (def.href != null) attrs.$set(type.attr, def.href);\n        }\n\n        if (ref.paramExpr) {\n          scope.$watch(ref.paramExpr, function (val) {\n            rawDef.uiStateParams = extend({}, val);\n            update();\n          }, true);\n          rawDef.uiStateParams = extend({}, scope.$eval(ref.paramExpr));\n        }\n\n        update();\n\n        scope.$on('$destroy', <any> $uiRouter.stateRegistry.onStatesChanged(update));\n        scope.$on('$destroy', <any> $uiRouter.transitionService.onSuccess({}, update));\n\n        if (!type.clickable) return;\n        hookFn = clickHook(element, $state, $timeout, type, getDef);\n        bindEvents(element, scope, hookFn, rawDef.uiStateOpts);\n      }\n    };\n  }];\n\n/**\n * `ui-state`: A fully dynamic directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * **This directive is very similar to [[uiSref]], but it `$observe`s and `$watch`es/evaluates all its inputs.**\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of `ui-state` is an expression which is `$watch`ed and evaluated as the state to link to.\n * **This is in contrast with `ui-sref`, which takes a state name as a string literal.**\n *\n * #### Example:\n * Create a list of links.\n * ```html\n * <li ng-repeat=\"link in navlinks\">\n *   <a ui-state=\"link.state\">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Relative Links\n * If the expression evaluates to a relative path, it is processed like [[uiSref]].\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create relative `ui-state` which always targets the same destination.\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * ### Parameter Values\n * In addition to the state name expression, a `ui-state` can include parameter values which are applied when activating the state.\n * Param values should be provided using the `ui-state-params` attribute.\n * The `ui-state-params` attribute value is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * This example renders a list of links with param values.\n * The state's `userId` parameter value comes from each user's `user.id` property.\n * ```html\n * <li ng-repeat=\"link in navlinks\">\n *   <a ui-state=\"link.state\" ui-state-params=\"link.params\">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-state-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n * The value of the `ui-state-opts` is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * ```html\n * <a ui-state=\"returnto.state\" ui-state-opts=\"{ reload: true }\">Home</a>\n * ```\n *\n * ### Other DOM Events\n *\n * You can also customize which DOM events to respond to (instead of `click`) by\n * providing an `events` array in the `ui-state-opts` attribute.\n *\n * #### Example:\n * ```html\n * <input type=\"text\" ui-state=\"contacts\" ui-state-opts=\"{ events: ['change', 'blur'] }\">\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Notes\n *\n * - You can use `ui-params` to change **only the parameter values** by omitting the state name and supplying only `ui-state-params`.\n *   However, it might be simpler to use [[uiSref]] parameter-only links.\n *\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-state=\"\" ui-state-params=\"{ lang: 'en' }\">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n * ```\n */\nlet uiState: ng1_directive;\nuiState = ['$uiRouter', '$timeout',\n  function $StateRefDynamicDirective($uiRouter: UIRouter, $timeout: ITimeoutService) {\n    let $state = $uiRouter.stateService;\n\n    return {\n      restrict: 'A',\n      require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n      link: function (scope: IScope, element: IAugmentedJQuery, attrs: any, uiSrefActive: any) {\n        let type = getTypeInfo(element);\n        let active = uiSrefActive[1] || uiSrefActive[0];\n        let unlinkInfoFn: Function = null;\n        let hookFn;\n\n        let rawDef = {} as Def;\n        let getDef = () => processedDef($state, element, rawDef);\n\n        let inputAttrs = ['uiState', 'uiStateParams', 'uiStateOpts'];\n        let watchDeregFns = inputAttrs.reduce((acc, attr) => (acc[attr] = noop, acc), {});\n\n        function update() {\n          let def = getDef();\n          if (unlinkInfoFn) unlinkInfoFn();\n          if (active) unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n          if (def.href != null) attrs.$set(type.attr, def.href);\n        }\n\n        inputAttrs.forEach((field) => {\n          rawDef[field] = attrs[field] ? scope.$eval(attrs[field]) : null;\n\n          attrs.$observe(field, (expr) => {\n            watchDeregFns[field]();\n            watchDeregFns[field] = scope.$watch(expr, (newval) => {\n              rawDef[field] = newval;\n              update();\n            }, true);\n          })\n        });\n\n        update();\n\n        scope.$on('$destroy', <any> $uiRouter.stateRegistry.onStatesChanged(update));\n        scope.$on('$destroy', <any> $uiRouter.transitionService.onSuccess({}, update));\n\n        if (!type.clickable) return;\n        hookFn = clickHook(element, $state, $timeout, type, getDef);\n        bindEvents(element, scope, hookFn, rawDef.uiStateOpts);\n      }\n    };\n  }];\n\n\n/**\n * `ui-sref-active` and `ui-sref-active-eq`: A directive that adds a CSS class when a `ui-sref` is active\n *\n * A directive working alongside [[uiSref]] and [[uiState]] to add classes to an element when the\n * related directive's state is active (and remove them when it is inactive).\n *\n * The primary use-case is to highlight the active link in navigation menus,\n * distinguishing it from the inactive menu items.\n *\n * ### Linking to a `ui-sref` or `ui-state`\n * `ui-sref-active` can live on the same element as `ui-sref`/`ui-state`, or it can be on a parent element.\n * If a `ui-sref-active` is a parent to more than one `ui-sref`/`ui-state`, it will apply the CSS class when **any of the links are active**.\n *\n * ### Matching\n *\n * The `ui-sref-active` directive applies the CSS class when the `ui-sref`/`ui-state`'s target state **or any child state is active**.\n * This is a \"fuzzy match\" which uses [[StateService.includes]].\n *\n * The `ui-sref-active-eq` directive applies the CSS class when the `ui-sref`/`ui-state`'s target state is directly active (not when child states are active).\n * This is an \"exact match\" which uses [[StateService.is]].\n *\n * ### Parameter values\n * If the `ui-sref`/`ui-state` includes parameter values, the current parameter values must match the link's values for the link to be highlighted.\n * This allows a list of links to the same state with different parameters to be rendered, and the correct one highlighted.\n *\n * #### Example:\n * ```html\n * <li ng-repeat=\"user in users\" ui-sref-active=\"active\">\n *   <a ui-sref=\"user.details({ userId: user.id })\">{{ user.lastName }}</a>\n * </li>\n * ```\n *\n * ### Examples\n *\n * Given the following template:\n * #### Example:\n * ```html\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item\">\n *     <a href ui-sref=\"app.user({user: 'bilbobaggins'})\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * When the app state is `app.user` (or any child state),\n * and contains the state parameter \"user\" with value \"bilbobaggins\",\n * the resulting HTML will appear as (note the 'active' class):\n *\n * ```html\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item active\">\n *     <a ui-sref=\"app.user({user: 'bilbobaggins'})\" href=\"/users/bilbobaggins\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * ### Glob mode\n *\n * It is possible to pass `ui-sref-active` an expression that evaluates to an object.\n * The objects keys represent active class names and values represent the respective state names/globs.\n * `ui-sref-active` will match if the current active state **includes** any of\n * the specified state names/globs, even the abstract ones.\n *\n * #### Example:\n * Given the following template, with \"admin\" being an abstract state:\n * ```html\n * <div ui-sref-active=\"{'active': 'admin.**'}\">\n *   <a ui-sref-active=\"active\" ui-sref=\"admin.roles\">Roles</a>\n * </div>\n * ```\n *\n * When the current state is \"admin.roles\" the \"active\" class will be applied to both the <div> and <a> elements.\n * It is important to note that the state names/globs passed to `ui-sref-active` override any state provided by a linked `ui-sref`.\n *\n * ### Notes:\n *\n * - The class name is interpolated **once** during the directives link time (any further changes to the\n * interpolated value are ignored).\n *\n * - Multiple classes may be specified in a space-separated format: `ui-sref-active='class1 class2 class3'`\n */\nlet uiSrefActive: ng1_directive;\nuiSrefActive = ['$state', '$stateParams', '$interpolate', '$uiRouter',\n  function $StateRefActiveDirective($state: StateService, $stateParams: Obj, $interpolate: IInterpolateService, $uiRouter: UIRouter) {\n    return {\n      restrict: \"A\",\n      controller: ['$scope', '$element', '$attrs',\n        function ($scope: IScope, $element: IAugmentedJQuery, $attrs: any) {\n          let states: StateData[] = [],\n              activeEqClass: string,\n              uiSrefActive: any;\n\n          // There probably isn't much point in $observing this\n          // uiSrefActive and uiSrefActiveEq share the same directive object with some\n          // slight difference in logic routing\n          activeEqClass = $interpolate($attrs.uiSrefActiveEq || '', false)($scope);\n\n          try {\n            uiSrefActive = $scope.$eval($attrs.uiSrefActive);\n          } catch (e) {\n            // Do nothing. uiSrefActive is not a valid expression.\n            // Fall back to using $interpolate below\n          }\n          uiSrefActive = uiSrefActive || $interpolate($attrs.uiSrefActive || '', false)($scope);\n          if (isObject(uiSrefActive)) {\n            forEach(uiSrefActive, function (stateOrName: StateOrName, activeClass: string) {\n              if (isString(stateOrName)) {\n                let ref = parseStateRef(stateOrName);\n                addState(ref.state, $scope.$eval(ref.paramExpr), activeClass);\n              }\n            });\n          }\n\n          // Allow uiSref to communicate with uiSrefActive[Equals]\n          this.$$addStateInfo = function (newState: string, newParams: Obj) {\n            // we already got an explicit state provided by ui-sref-active, so we\n            // shadow the one that comes from ui-sref\n            if (isObject(uiSrefActive) && states.length > 0) {\n              return;\n            }\n            let deregister = addState(newState, newParams, uiSrefActive);\n            update();\n            return deregister;\n          };\n\n          function updateAfterTransition(trans) {\n            trans.promise.then(update);\n          }\n\n          $scope.$on('$stateChangeSuccess', update);\n          $scope.$on('$destroy', <any> $uiRouter.transitionService.onStart({}, updateAfterTransition));\n          if ($uiRouter.globals.transition) {\n            updateAfterTransition($uiRouter.globals.transition);\n          }\n\n          function addState(stateName: string, stateParams: Obj, activeClass: string) {\n            var state = $state.get(stateName, stateContext($element));\n\n            var stateInfo = {\n              state: state || { name: stateName },\n              params: stateParams,\n              activeClass: activeClass\n            };\n\n            states.push(stateInfo);\n\n            return function removeState() {\n              removeFrom(states)(stateInfo);\n            }\n          }\n\n          // Update route state\n          function update() {\n            const splitClasses = str =>\n                str.split(/\\s/).filter(identity);\n            const getClasses = (stateList: StateData[]) =>\n                stateList.map(x => x.activeClass).map(splitClasses).reduce(unnestR, []);\n\n            let allClasses = getClasses(states).concat(splitClasses(activeEqClass)).reduce(uniqR, []);\n            let fuzzyClasses = getClasses(states.filter(x => $state.includes(x.state.name, x.params)));\n            let exactlyMatchesAny = !!states.filter(x => $state.is(x.state.name, x.params)).length;\n            let exactClasses = exactlyMatchesAny ? splitClasses(activeEqClass) : [];\n\n            let addClasses = fuzzyClasses.concat(exactClasses).reduce(uniqR, []);\n            let removeClasses = allClasses.filter(cls => !inArray(addClasses, cls));\n\n            $scope.$evalAsync(() => {\n              addClasses.forEach(className => $element.addClass(className));\n              removeClasses.forEach(className => $element.removeClass(className));\n            });\n          }\n\n          update();\n        }]\n    };\n  }];\n\n/** @hidden */\ninterface Def { uiState: string; href: string; uiStateParams: Obj; uiStateOpts: any; }\n/** @hidden */\ninterface StateData { state: StateDeclaration; params: RawParams; activeClass: string; }\n\nangular.module('ui.router.state')\n    .directive('uiSref', uiSref)\n    .directive('uiSrefActive', uiSrefActive)\n    .directive('uiSrefActiveEq', uiSrefActive)\n    .directive('uiState', uiState);\n","/** @module ng1 */ /** for typedoc */\n\nimport { ng as angular } from \"./angular\";\nimport { Obj, StateService, StateOrName } from \"ui-router-core\";\n\n/**\n * `isState` Filter: truthy if the current state is the parameter\n *\n * Translates to [[StateService.is]] `$state.is(\"stateName\")`.\n *\n * #### Example:\n * ```html\n * <div ng-if=\"'stateName' | isState\">show if state is 'stateName'</div>\n * ```\n */\n$IsStateFilter.$inject = ['$state'];\nexport function $IsStateFilter($state: StateService) {\n  var isFilter: any = function(state: StateOrName, params: Obj, options?: { relative?: boolean }) {\n    return $state.is(state, params, options);\n  };\n  isFilter.$stateful = true;\n  return isFilter;\n}\n\n/**\n * `includedByState` Filter: truthy if the current state includes the parameter\n *\n * Translates to [[StateService.includes]]` $state.is(\"fullOrPartialStateName\")`.\n *\n * #### Example:\n * ```html\n * <div ng-if=\"'fullOrPartialStateName' | includedByState\">show if state includes 'fullOrPartialStateName'</div>\n * ```\n */\n$IncludedByStateFilter.$inject = ['$state'];\nexport function $IncludedByStateFilter($state: StateService) {\n  var includesFilter: any = function(state: StateOrName, params: Obj, options: Obj) {\n    return $state.includes(state, params, options);\n  };\n  includesFilter.$stateful = true;\n  return  includesFilter;\n}\n\nangular.module('ui.router.state')\n  .filter('isState', $IsStateFilter)\n  .filter('includedByState', $IncludedByStateFilter);\n","/** \n * @ng1api \n * @module directives \n */ /** for typedoc */\nimport { ng as angular } from \"../angular\";\nimport {\n    IInterpolateService, IScope, ITranscludeFunction, IAugmentedJQuery,\n    ICompileService, IControllerService, ITimeoutService, noop\n} from \"angular\";\n\nimport {\n    extend, unnestR, filter, tail, isDefined, isFunction, isString, trace, parse,\n    ActiveUIView, TransitionService, ResolveContext, Transition, PathNode, StateDeclaration,\n    Param, kebobString, HookRegOptions, ViewService, $QLike, Obj, TypedMap\n} from \"ui-router-core\";\nimport {Ng1ViewConfig} from \"../statebuilders/views\";\nimport {Ng1Controller, Ng1StateDeclaration} from \"../interface\";\nimport {getLocals} from \"../services\";\nimport { ng1_directive } from \"./stateDirectives\";\n\n/** @hidden */\nexport type UIViewData = {\n  $cfg: Ng1ViewConfig;\n  $uiView: ActiveUIView;\n}\n\n/** @hidden */\nexport type UIViewAnimData = {\n  $animEnter: Promise<any>;\n  $animLeave: Promise<any>;\n  $$animLeave: { resolve: () => any; } // \"deferred\"\n}\n\n/**\n * `ui-view`: A viewport directive which is filled in by a view from the active state.\n *\n * ### Attributes\n *\n * - `name`: (Optional) A view name.\n *   The name should be unique amongst the other views in the same state.\n *   You can have views of the same name that live in different states.\n *   The ui-view can be targeted in a View using the name ([[Ng1StateDeclaration.views]]).\n *\n * - `autoscroll`: an expression. When it evaluates to true, the `ui-view` will be scrolled into view when it is activated.\n *   Uses [[$uiViewScroll]] to do the scrolling.\n *\n * - `onload`: Expression to evaluate whenever the view updates.\n *\n * #### Example:\n * A view can be unnamed or named.\n * ```html\n * <!-- Unnamed -->\n * <div ui-view></div>\n *\n * <!-- Named -->\n * <div ui-view=\"viewName\"></div>\n *\n * <!-- Named (different style) -->\n * <ui-view name=\"viewName\"></ui-view>\n * ```\n *\n * You can only have one unnamed view within any template (or root html). If you are only using a\n * single view and it is unnamed then you can populate it like so:\n *\n * ```html\n * <div ui-view></div>\n * $stateProvider.state(\"home\", {\n *   template: \"<h1>HELLO!</h1>\"\n * })\n * ```\n *\n * The above is a convenient shortcut equivalent to specifying your view explicitly with the\n * [[Ng1StateDeclaration.views]] config property, by name, in this case an empty name:\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }\n * })\n * ```\n *\n * But typically you'll only use the views property if you name your view or have more than one view\n * in the same template. There's not really a compelling reason to name a view if its the only one,\n * but you could if you wanted, like so:\n *\n * ```html\n * <div ui-view=\"main\"></div>\n * ```\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"main\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }\n * })\n * ```\n *\n * Really though, you'll use views to set up multiple views:\n *\n * ```html\n * <div ui-view></div>\n * <div ui-view=\"chart\"></div>\n * <div ui-view=\"data\"></div>\n * ```\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     },\n *     \"chart\": {\n *       template: \"<chart_thing/>\"\n *     },\n *     \"data\": {\n *       template: \"<data_thing/>\"\n *     }\n *   }\n * })\n * ```\n *\n * #### Examples for `autoscroll`:\n * ```html\n * <!-- If autoscroll present with no expression,\n *      then scroll ui-view into view -->\n * <ui-view autoscroll/>\n *\n * <!-- If autoscroll present with valid expression,\n *      then scroll ui-view into view if expression evaluates to true -->\n * <ui-view autoscroll='true'/>\n * <ui-view autoscroll='false'/>\n * <ui-view autoscroll='scopeVariable'/>\n * ```\n *\n * Resolve data:\n *\n * The resolved data from the state's `resolve` block is placed on the scope as `$resolve` (this\n * can be customized using [[Ng1ViewDeclaration.resolveAs]]).  This can be then accessed from the template.\n *\n * Note that when `controllerAs` is being used, `$resolve` is set on the controller instance *after* the\n * controller is instantiated.  The `$onInit()` hook can be used to perform initialization code which\n * depends on `$resolve` data.\n *\n * #### Example:\n * ```js\n * $stateProvider.state('home', {\n *   template: '<my-component user=\"$resolve.user\"></my-component>',\n *   resolve: {\n *     user: function(UserService) { return UserService.fetchUser(); }\n *   }\n * });\n * ```\n */\nexport let uiView: ng1_directive;\nuiView = ['$view', '$animate', '$uiViewScroll', '$interpolate', '$q',\nfunction $ViewDirective($view: ViewService, $animate: any, $uiViewScroll: any, $interpolate: IInterpolateService, $q: $QLike) {\n\n  function getRenderer(attrs: Obj, scope: IScope) {\n    return {\n      enter: function(element: JQuery, target: any, cb: Function) {\n        if (angular.version.minor > 2) {\n          $animate.enter(element, null, target).then(cb);\n        } else {\n          $animate.enter(element, null, target, cb);\n        }\n      },\n      leave: function(element: JQuery, cb: Function) {\n        if (angular.version.minor > 2) {\n          $animate.leave(element).then(cb);\n        } else {\n          $animate.leave(element, cb);\n        }\n      }\n    };\n  }\n\n  function configsEqual(config1: Ng1ViewConfig, config2: Ng1ViewConfig) {\n    return config1 === config2;\n  }\n\n  let rootData = {\n    $cfg: { viewDecl: { $context: $view._pluginapi._rootViewContext() } },\n    $uiView: { }\n  };\n\n  let directive = {\n    count: 0,\n    restrict: 'ECA',\n    terminal: true,\n    priority: 400,\n    transclude: 'element',\n    compile: function (tElement: JQuery, tAttrs: Obj, $transclude: ITranscludeFunction) {\n\n      return function (scope: IScope, $element: IAugmentedJQuery, attrs: Obj) {\n        let previousEl: JQuery, currentEl: JQuery,\n            currentScope: IScope, unregister: Function,\n            onloadExp     = attrs['onload'] || '',\n            autoScrollExp = attrs['autoscroll'],\n            renderer      = getRenderer(attrs, scope),\n            viewConfig    = undefined as Ng1ViewConfig,\n            inherited     = $element.inheritedData('$uiView') || rootData,\n            name          = $interpolate(attrs['uiView'] || attrs['name'] || '')(scope) || '$default';\n\n        let activeUIView: ActiveUIView = {\n          $type: 'ng1',\n          id: directive.count++,                                   // Global sequential ID for ui-view tags added to DOM\n          name: name,                                              // ui-view name (<div ui-view=\"name\"></div>\n          fqn: inherited.$uiView.fqn ? inherited.$uiView.fqn + \".\" + name : name, // fully qualified name, describes location in DOM\n          config: null,                                            // The ViewConfig loaded (from a state.views definition)\n          configUpdated: configUpdatedCallback,                    // Called when the matching ViewConfig changes\n          get creationContext() {                                  // The context in which this ui-view \"tag\" was created\n            let fromParentTagConfig = parse('$cfg.viewDecl.$context')(inherited);\n            // Allow <ui-view name=\"foo\"><ui-view name=\"bar\"></ui-view></ui-view>\n            // See https://github.com/angular-ui/ui-router/issues/3355\n            let fromParentTag = parse('$uiView.creationContext')(inherited);\n            return fromParentTagConfig || fromParentTag;\n          }\n        };\n\n        trace.traceUIViewEvent(\"Linking\", activeUIView);\n\n        function configUpdatedCallback(config?: Ng1ViewConfig) {\n          if (config && !(config instanceof Ng1ViewConfig)) return;\n          if (configsEqual(viewConfig, config)) return;\n          trace.traceUIViewConfigUpdated(activeUIView, config && config.viewDecl && config.viewDecl.$context);\n\n          viewConfig = config;\n          updateView(config);\n        }\n\n        $element.data('$uiView', { $uiView: activeUIView });\n\n        updateView();\n\n        unregister = $view.registerUIView(activeUIView);\n        scope.$on(\"$destroy\", function() {\n          trace.traceUIViewEvent(\"Destroying/Unregistering\", activeUIView);\n          unregister();\n        });\n\n        function cleanupLastView() {\n          if (previousEl) {\n            trace.traceUIViewEvent(\"Removing (previous) el\", previousEl.data('$uiView'));\n            previousEl.remove();\n            previousEl = null;\n          }\n\n          if (currentScope) {\n            trace.traceUIViewEvent(\"Destroying scope\", activeUIView);\n            currentScope.$destroy();\n            currentScope = null;\n          }\n\n          if (currentEl) {\n            let _viewData = currentEl.data('$uiViewAnim');\n            trace.traceUIViewEvent(\"Animate out\", _viewData);\n            renderer.leave(currentEl, function() {\n              _viewData.$$animLeave.resolve();\n              previousEl = null;\n            });\n\n            previousEl = currentEl;\n            currentEl = null;\n          }\n        }\n\n        function updateView(config?: Ng1ViewConfig) {\n          let newScope = scope.$new();\n          let animEnter = $q.defer(), animLeave = $q.defer();\n\n          let $uiViewData: UIViewData = {\n            $cfg: config,\n            $uiView: activeUIView,\n          };\n\n          let $uiViewAnim: UIViewAnimData = {\n            $animEnter: animEnter.promise,\n            $animLeave: animLeave.promise,\n            $$animLeave: animLeave\n          };\n\n          /**\n           * @ngdoc event\n           * @name ui.router.state.directive:ui-view#$viewContentLoading\n           * @eventOf ui.router.state.directive:ui-view\n           * @eventType emits on ui-view directive scope\n           * @description\n           *\n           * Fired once the view **begins loading**, *before* the DOM is rendered.\n           *\n           * @param {Object} event Event object.\n           * @param {string} viewName Name of the view.\n           */\n          newScope.$emit('$viewContentLoading', name);\n\n          let cloned = $transclude(newScope, function(clone) {\n            clone.data('$uiViewAnim', $uiViewAnim);\n            clone.data('$uiView', $uiViewData);\n            renderer.enter(clone, $element, function onUIViewEnter() {\n              animEnter.resolve();\n              if (currentScope) currentScope.$emit('$viewContentAnimationEnded');\n\n              if (isDefined(autoScrollExp) && !autoScrollExp || scope.$eval(autoScrollExp)) {\n                $uiViewScroll(clone);\n              }\n            });\n\n            cleanupLastView();\n          });\n\n          currentEl = cloned;\n          currentScope = newScope;\n          /**\n           * @ngdoc event\n           * @name ui.router.state.directive:ui-view#$viewContentLoaded\n           * @eventOf ui.router.state.directive:ui-view\n           * @eventType emits on ui-view directive scope\n           * @description           *\n           * Fired once the view is **loaded**, *after* the DOM is rendered.\n           *\n           * @param {Object} event Event object.\n           */\n          currentScope.$emit('$viewContentLoaded', config || viewConfig);\n          currentScope.$eval(onloadExp);\n        }\n      };\n    }\n  };\n\n  return directive;\n}];\n\n$ViewDirectiveFill.$inject = ['$compile', '$controller', '$transitions', '$view', '$q', '$timeout'];\n/** @hidden */\nfunction $ViewDirectiveFill($compile: angular.ICompileService,\n                            $controller: angular.IControllerService,\n                            $transitions: TransitionService,\n                            $view: ViewService,\n                            $q: angular.IQService,\n                            $timeout: ITimeoutService) {\n  const getControllerAs = parse('viewDecl.controllerAs');\n  const getResolveAs = parse('viewDecl.resolveAs');\n\n  return {\n    restrict: 'ECA',\n    priority: -400,\n    compile: function (tElement: JQuery) {\n      let initial = tElement.html();\n      tElement.empty();\n\n      return function (scope: IScope, $element: JQuery) {\n        let data: UIViewData = $element.data('$uiView');\n        if (!data) {\n            $element.html(initial);\n            $compile($element.contents())(scope);\n            return;\n        }\n\n        let cfg: Ng1ViewConfig = data.$cfg || <any> { viewDecl: {}, getTemplate: noop };\n        let resolveCtx: ResolveContext = cfg.path && new ResolveContext(cfg.path);\n        $element.html(cfg.getTemplate($element, resolveCtx) || initial);\n        trace.traceUIViewFill(data.$uiView, $element.html());\n\n        let link = $compile($element.contents());\n        let controller = cfg.controller;\n        let controllerAs: string = getControllerAs(cfg);\n        let resolveAs: string = getResolveAs(cfg);\n        let locals = resolveCtx && getLocals(resolveCtx);\n\n        scope[resolveAs] = locals;\n\n        if (controller) {\n          let controllerInstance = <Ng1Controller> $controller(controller, extend({}, locals, { $scope: scope, $element: $element }));\n          if (controllerAs) {\n            scope[controllerAs] = controllerInstance;\n            scope[controllerAs][resolveAs] = locals;\n          }\n\n          // TODO: Use $view service as a central point for registering component-level hooks\n          // Then, when a component is created, tell the $view service, so it can invoke hooks\n          // $view.componentLoaded(controllerInstance, { $scope: scope, $element: $element });\n          // scope.$on('$destroy', () => $view.componentUnloaded(controllerInstance, { $scope: scope, $element: $element }));\n\n          $element.data('$ngControllerController', controllerInstance);\n          $element.children().data('$ngControllerController', controllerInstance);\n\n          registerControllerCallbacks($q, $transitions, controllerInstance, scope, cfg);\n        }\n\n        // Wait for the component to appear in the DOM\n        if (isString(cfg.viewDecl.component)) {\n          let cmp = cfg.viewDecl.component;\n          let kebobName = kebobString(cmp);\n          let tagRegexp = new RegExp(`^(x-|data-)?${kebobName}$`, \"i\");\n\n          let getComponentController = () => {\n            let directiveEl = [].slice.call($element[0].children)\n                .filter((el: Element) => el && el.tagName && tagRegexp.exec(el.tagName)) ;\n            \n            return directiveEl && angular.element(directiveEl).data(`$${cmp}Controller`);\n          };\n\n          let deregisterWatch = scope.$watch(getComponentController, function(ctrlInstance) {\n            if (!ctrlInstance) return;\n            registerControllerCallbacks($q, $transitions, ctrlInstance, scope, cfg);\n            deregisterWatch();\n          });\n        }\n\n        link(scope);\n      };\n    }\n  };\n}\n\n/** @hidden */\nlet hasComponentImpl = typeof (angular as any).module('ui.router')['component'] === 'function';\n/** @hidden incrementing id */\nlet _uiCanExitId = 0;\n\n/** @hidden TODO: move these callbacks to $view and/or `/hooks/components.ts` or something */\nfunction registerControllerCallbacks($q: angular.IQService,\n                                     $transitions: TransitionService,\n                                     controllerInstance: Ng1Controller,\n                                     $scope: IScope,\n                                     cfg: Ng1ViewConfig) {\n  // Call $onInit() ASAP\n  if (isFunction(controllerInstance.$onInit) && !(cfg.viewDecl.component && hasComponentImpl)) {\n    controllerInstance.$onInit();\n  }\n\n  let viewState: Ng1StateDeclaration = tail(cfg.path).state.self;\n\n  let hookOptions: HookRegOptions = { bind: controllerInstance };\n  // Add component-level hook for onParamsChange\n  if (isFunction(controllerInstance.uiOnParamsChanged)) {\n    let resolveContext: ResolveContext = new ResolveContext(cfg.path);\n    let viewCreationTrans = resolveContext.getResolvable('$transition$').data;\n\n    // Fire callback on any successful transition\n    const paramsUpdated = ($transition$: Transition) => {\n      // Exit early if the $transition$ is the same as the view was created within.\n      // Exit early if the $transition$ will exit the state the view is for.\n      if ($transition$ === viewCreationTrans || $transition$.exiting().indexOf(viewState as StateDeclaration) !== -1) return;\n\n      let toParams = $transition$.params(\"to\") as TypedMap<any>;\n      let fromParams = $transition$.params<TypedMap<any>>(\"from\") as TypedMap<any>;\n      let toSchema: Param[] = $transition$.treeChanges().to.map((node: PathNode) => node.paramSchema).reduce(unnestR, []);\n      let fromSchema: Param[] = $transition$.treeChanges().from.map((node: PathNode) => node.paramSchema).reduce(unnestR, []);\n\n      // Find the to params that have different values than the from params\n      let changedToParams = toSchema.filter((param: Param) => {\n        let idx = fromSchema.indexOf(param);\n        return idx === -1 || !fromSchema[idx].type.equals(toParams[param.id], fromParams[param.id]);\n      });\n\n      // Only trigger callback if a to param has changed or is new\n      if (changedToParams.length) {\n        let changedKeys: string[] = changedToParams.map(x => x.id);\n        // Filter the params to only changed/new to params.  `$transition$.params()` may be used to get all params.\n        let newValues = filter(toParams, (val, key) => changedKeys.indexOf(key) !== -1);\n        controllerInstance.uiOnParamsChanged(newValues, $transition$);\n      }\n    };\n    $scope.$on('$destroy', <any> $transitions.onSuccess({}, paramsUpdated, hookOptions));\n  }\n\n  // Add component-level hook for uiCanExit\n  if (isFunction(controllerInstance.uiCanExit)) {\n    let id = _uiCanExitId++;\n    let cacheProp = '_uiCanExitIds';\n\n    // Returns true if a redirect transition already answered truthy\n    const prevTruthyAnswer = (trans: Transition) =>\n        !!trans && (trans[cacheProp] && trans[cacheProp][id] === true || prevTruthyAnswer(trans.redirectedFrom()));\n\n    // If a user answered yes, but the transition was later redirected, don't also ask for the new redirect transition\n    const wrappedHook = (trans: Transition) => {\n      let promise, ids = trans[cacheProp] = trans[cacheProp] || {};\n      if (!prevTruthyAnswer(trans)) {\n        promise = $q.when(controllerInstance.uiCanExit(trans));\n        promise.then(val => ids[id] = (val !== false));\n      }\n      return promise;\n    };\n\n    let criteria = {exiting: viewState.name};\n    $scope.$on('$destroy', <any> $transitions.onBefore(criteria, wrappedHook, hookOptions));\n  }\n}\n\nangular.module('ui.router.state').directive('uiView', <any> uiView);\nangular.module('ui.router.state').directive('uiView', <any> $ViewDirectiveFill);\n","/** @module ng1 */ /** */\nimport { ng as angular } from \"./angular\";\nimport { IServiceProviderFactory } from \"angular\";\nimport IAnchorScrollService = angular.IAnchorScrollService;\nimport ITimeoutService = angular.ITimeoutService;\n\nexport interface UIViewScrollProvider {\n  /**\n   * Uses standard anchorScroll behavior\n   *\n   * Reverts [[$uiViewScroll]] back to using the core [`$anchorScroll`](http://docs.angularjs.org/api/ng.$anchorScroll)\n   * service for scrolling based on the url anchor.\n   */\n  useAnchorScroll(): void;\n}\n\n\n/** @hidden */\nfunction $ViewScrollProvider() {\n\n  var useAnchorScroll = false;\n\n  this.useAnchorScroll = function () {\n    useAnchorScroll = true;\n  };\n\n  this.$get = ['$anchorScroll', '$timeout', function ($anchorScroll: IAnchorScrollService, $timeout: ITimeoutService): Function {\n    if (useAnchorScroll) {\n      return $anchorScroll;\n    }\n\n    return function ($element: JQuery) {\n      return $timeout(function () {\n        $element[0].scrollIntoView();\n      }, 0, false);\n    };\n  }];\n}\n\nangular.module('ui.router.state').provider('$uiViewScroll', <IServiceProviderFactory> $ViewScrollProvider);\n",{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/common/glob.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/state/stateObject.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/common/coreservices.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/common/queue.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/transition/rejectFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/transition/interface.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/state/targetState.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/transition/transitionHook.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/path/node.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/path/pathFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/resolve/resolvable.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/resolve/interface.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/resolve/resolveContext.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/transition/transition.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/params/stateParams.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/state/stateMatcher.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/state/stateQueueManager.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/state/stateRegistry.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/url/urlMatcherFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/url/urlRule.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/view/view.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/globals.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/url/urlService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/router.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/redirectTo.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/resolve.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/views.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/updateGlobals.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/hooks/url.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/transition/transitionEventType.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/transition/transitionService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/state/stateService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/$q.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/$injector.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/baseLocationService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/hashLocationService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/memoryLocationService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/pushStateLocationService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/memoryLocationConfig.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/vanilla/browserLocationConfig.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/austin/dev/router/ui-router/node_modules/ui-router-core/src/interface.ts"},"/**\n * @hidden\n * @module ng1\n */ /** */\ndeclare var angular;\nimport * as ng_from_import from \"angular\";\nlet ng_from_global = angular;\n\nexport const ng = (ng_from_import && ng_from_import.module) ? ng_from_import : ng_from_global;\n","/** @module ng1 */ /** for typedoc */\nimport {\n    val, isObject, createProxyFunctions, BuilderFunction, StateRegistry, StateService, OnInvalidCallback\n} from \"ui-router-core\";\nimport { Ng1StateDeclaration } from \"./interface\";\n\n/**\n * The Angular 1 `StateProvider`\n *\n * The `$stateProvider` works similar to Angular's v1 router, but it focuses purely\n * on state.\n *\n * A state corresponds to a \"place\" in the application in terms of the overall UI and\n * navigation. A state describes (via the controller / template / view properties) what\n * the UI looks like and does at that place.\n *\n * States often have things in common, and the primary way of factoring out these\n * commonalities in this model is via the state hierarchy, i.e. parent/child states aka\n * nested states.\n *\n * The `$stateProvider` provides interfaces to declare these states for your app.\n */\nexport class StateProvider {\n  constructor(private stateRegistry: StateRegistry, private stateService: StateService) {\n    createProxyFunctions(val(StateProvider.prototype), this, val(this));\n  }\n\n  /**\n   * Decorates states when they are registered\n   *\n   * Allows you to extend (carefully) or override (at your own peril) the\n   * `stateBuilder` object used internally by [[StateRegistry]].\n   * This can be used to add custom functionality to ui-router,\n   * for example inferring templateUrl based on the state name.\n   *\n   * When passing only a name, it returns the current (original or decorated) builder\n   * function that matches `name`.\n   *\n   * The builder functions that can be decorated are listed below. Though not all\n   * necessarily have a good use case for decoration, that is up to you to decide.\n   *\n   * In addition, users can attach custom decorators, which will generate new\n   * properties within the state's internal definition. There is currently no clear\n   * use-case for this beyond accessing internal states (i.e. $state.$current),\n   * however, expect this to become increasingly relevant as we introduce additional\n   * meta-programming features.\n   *\n   * **Warning**: Decorators should not be interdependent because the order of\n   * execution of the builder functions in non-deterministic. Builder functions\n   * should only be dependent on the state definition object and super function.\n   *\n   *\n   * Existing builder functions and current return values:\n   *\n   * - **parent** `{object}` - returns the parent state object.\n   * - **data** `{object}` - returns state data, including any inherited data that is not\n   *   overridden by own values (if any).\n   * - **url** `{object}` - returns a {@link ui.router.util.type:UrlMatcher UrlMatcher}\n   *   or `null`.\n   * - **navigable** `{object}` - returns closest ancestor state that has a URL (aka is\n   *   navigable).\n   * - **params** `{object}` - returns an array of state params that are ensured to\n   *   be a super-set of parent's params.\n   * - **views** `{object}` - returns a views object where each key is an absolute view\n   *   name (i.e. \"viewName@stateName\") and each value is the config object\n   *   (template, controller) for the view. Even when you don't use the views object\n   *   explicitly on a state config, one is still created for you internally.\n   *   So by decorating this builder function you have access to decorating template\n   *   and controller properties.\n   * - **ownParams** `{object}` - returns an array of params that belong to the state,\n   *   not including any params defined by ancestor states.\n   * - **path** `{string}` - returns the full path from the root down to this state.\n   *   Needed for state activation.\n   * - **includes** `{object}` - returns an object that includes every state that\n   *   would pass a `$state.includes()` test.\n   *\n   * #### Example:\n   * Override the internal 'views' builder with a function that takes the state\n   * definition, and a reference to the internal function being overridden:\n   * ```js\n   * $stateProvider.decorator('views', function (state, parent) {\n   *   let result = {},\n   *       views = parent(state);\n   *\n   *   angular.forEach(views, function (config, name) {\n   *     let autoName = (state.name + '.' + name).replace('.', '/');\n   *     config.templateUrl = config.templateUrl || '/partials/' + autoName + '.html';\n   *     result[name] = config;\n   *   });\n   *   return result;\n   * });\n   *\n   * $stateProvider.state('home', {\n   *   views: {\n   *     'contact.list': { controller: 'ListController' },\n   *     'contact.item': { controller: 'ItemController' }\n   *   }\n   * });\n   * ```\n   *\n   *\n   * ```js\n   * // Auto-populates list and item views with /partials/home/contact/list.html,\n   * // and /partials/home/contact/item.html, respectively.\n   * $state.go('home');\n   * ```\n   *\n   * @param {string} name The name of the builder function to decorate.\n   * @param {object} func A function that is responsible for decorating the original\n   * builder function. The function receives two parameters:\n   *\n   *   - `{object}` - state - The state config object.\n   *   - `{object}` - super - The original builder function.\n   *\n   * @return {object} $stateProvider - $stateProvider instance\n   */\n  decorator(name: string, func: BuilderFunction) {\n    return this.stateRegistry.decorator(name, func) || this;\n  }\n\n  /**\n   * Registers a state\n   *\n   * ### This is a passthrough to [[StateRegistry.register]].\n   *\n   * Registers a state configuration under a given state name.\n   * The stateConfig object has the following acceptable properties.\n   *\n   * <a id='template'></a>\n   *\n   * - **`template`** - {string|function=} - html template as a string or a function that returns\n   *   an html template as a string which should be used by the uiView directives. This property\n   *   takes precedence over templateUrl.\n   *\n   *   If `template` is a function, it will be called with the following parameters:\n   *\n   *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n   *     applying the current state\n   *\n   * <a id='templateUrl'></a>\n   *\n   * - **`templateUrl`** - {string|function=} - path or function that returns a path to an html\n   *   template that should be used by uiView.\n   *\n   *   If `templateUrl` is a function, it will be called with the following parameters:\n   *\n   *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n   *     applying the current state\n   *\n   * <a id='templateProvider'></a>\n   *\n   * - **`templateProvider`** - {function=} - Provider function that returns HTML content\n   *   string.\n   *\n   * <a id='controller'></a>\n   *\n   * - **`controller`** - {string|function=} -  Controller fn that should be associated with newly\n   *   related scope or the name of a registered controller if passed as a string.\n   *\n   * <a id='controllerProvider'></a>\n   *\n   * - **`controllerProvider`** - {function=} - Injectable provider function that returns\n   *   the actual controller or string.\n   *\n   * <a id='controllerAs'></a>\n   *\n   * - **`controllerAs`**  {string=}  A controller alias name. If present the controller will be\n   *   published to scope under the controllerAs name.\n   *\n   * <a id='resolve'></a>\n   *\n   * - **`resolve`** - {object.&lt;string, function&gt;=} - An optional map of dependencies which\n   *   should be injected into the controller. If any of these dependencies are promises,\n   *   the router will wait for them all to be resolved or one to be rejected before the\n   *   controller is instantiated. If all the promises are resolved successfully, the values\n   *   of the resolved promises are injected and $stateChangeSuccess event is fired. If any\n   *   of the promises are rejected the $stateChangeError event is fired. The map object is:\n   *\n   *   - key - {string}: name of dependency to be injected into controller\n   *   - factory - {string|function}: If string then it is alias for service. Otherwise if function,\n   *     it is injected and return value it treated as dependency. If result is a promise, it is\n   *     resolved before its value is injected into controller.\n   *\n   * <a id='url'></a>\n   *\n   * - **`url`** - {string=} - A url with optional parameters. When a state is navigated or\n   *   transitioned to, the `$stateParams` service will be populated with any\n   *   parameters that were passed.\n   *\n   * <a id='params'></a>\n   *\n   * - **`params`** - {object=} - An array of parameter names or regular expressions. Only\n   *   use this within a state if you are not using url. Otherwise you can specify your\n   *   parameters within the url. When a state is navigated or transitioned to, the\n   *   $stateParams service will be populated with any parameters that were passed.\n   *\n   * <a id='views'></a>\n   *\n   * - **`views`** - {object=} - Use the views property to set up multiple views or to target views\n   *   manually/explicitly.\n   *\n   * <a id='abstract'></a>\n   *\n   * - **`abstract`** - {boolean=} - An abstract state will never be directly activated,\n   *   but can provide inherited properties to its common children states.\n   *\n   * <a id='onEnter'></a>\n   *\n   * - **`onEnter`** - {object=} - Callback function for when a state is entered. Good way\n   *   to trigger an action or dispatch an event, such as opening a dialog.\n   * If minifying your scripts, make sure to use the `['injection1', 'injection2', function(injection1, injection2){}]` syntax.\n   *\n   * <a id='onExit'></a>\n   *\n   * - **`onExit`** - {object=} - Callback function for when a state is exited. Good way to\n   *   trigger an action or dispatch an event, such as opening a dialog.\n   * If minifying your scripts, make sure to use the `['injection1', 'injection2', function(injection1, injection2){}]` syntax.\n   *\n   * <a id='reloadOnSearch'></a>\n   *\n   * - **`reloadOnSearch = true`** - {boolean=} - If `false`, will not retrigger the same state\n   *   just because a search/query parameter has changed (via $location.search() or $location.hash()).\n   *   Useful for when you'd like to modify $location.search() without triggering a reload.\n   *\n   * <a id='data'></a>\n   *\n   * - **`data`** - {object=} - Arbitrary data object, useful for custom configuration.\n   *\n   * #### Example:\n   * Some state name examples\n   * ```js\n   * // stateName can be a single top-level name (must be unique).\n   * $stateProvider.state(\"home\", {});\n   *\n   * // Or it can be a nested state name. This state is a child of the\n   * // above \"home\" state.\n   * $stateProvider.state(\"home.newest\", {});\n   *\n   * // Nest states as deeply as needed.\n   * $stateProvider.state(\"home.newest.abc.xyz.inception\", {});\n   *\n   * // state() returns $stateProvider, so you can chain state declarations.\n   * $stateProvider\n   *   .state(\"home\", {})\n   *   .state(\"about\", {})\n   *   .state(\"contacts\", {});\n   * ```\n   *\n   * @param {string} name A unique state name, e.g. \"home\", \"about\", \"contacts\".\n   * To create a parent/child state use a dot, e.g. \"about.sales\", \"home.newest\".\n   * @param {object} definition State configuration object.\n   */\n  state(name: string, definition: Ng1StateDeclaration): StateProvider;\n  state(definition: Ng1StateDeclaration): StateProvider;\n  state(name: any, definition?: any) {\n    if (isObject(name)) {\n      definition = name;\n    } else {\n      definition.name = name;\n    }\n    this.stateRegistry.register(definition);\n    return this;\n  }\n\n  /**\n   * Registers an invalid state handler\n   *\n   * This is a passthrough to [[StateService.onInvalid]] for ng1.\n   */\n\n  onInvalid(callback: OnInvalidCallback): Function {\n    return this.stateService.onInvalid(callback);\n  }\n}\n","/** @module ng1 */ /** */\nimport {\n  StateObject, TransitionStateHookFn, HookResult, Transition, services, ResolveContext, extend, BuilderFunction\n} from \"ui-router-core\";\nimport { getLocals } from \"../services\";\nimport { Ng1StateDeclaration } from '../interface';\n\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `onEnter`, `onExit`,\n * `onRetain` callback hooks on a [[Ng1StateDeclaration]].\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * ensures that those hooks are injectable for angular-ui-router (ng1).\n */\nexport const getStateHookBuilder = (hookName: \"onEnter\"|\"onExit\"|\"onRetain\") =>\nfunction stateHookBuilder(state: StateObject, parentFn: BuilderFunction): TransitionStateHookFn {\n  let hook = state[hookName];\n  let pathname = hookName === 'onExit' ? 'from' : 'to';\n\n  function decoratedNg1Hook(trans: Transition, state: Ng1StateDeclaration): HookResult {\n    let resolveContext = new ResolveContext(trans.treeChanges(pathname));\n    let locals = extend(getLocals(resolveContext), { $state$: state, $transition$: trans });\n    return services.$injector.invoke(hook, this, locals);\n  }\n\n  return hook ? decoratedNg1Hook : undefined;\n};\n","/**\n * @internalapi\n * @module ng1\n */ /** */\nimport { LocationConfig, LocationServices, UIRouter, ParamType } from \"ui-router-core\";\nimport { val, createProxyFunctions, removeFrom, isObject } from \"ui-router-core\";\nimport { ILocationService, ILocationProvider } from \"angular\";\n\n/**\n * Implements UI-Router LocationServices and LocationConfig using Angular 1's $location service\n */\nexport class Ng1LocationServices implements LocationConfig, LocationServices {\n  private $locationProvider: ILocationProvider;\n  private $location: ILocationService;\n  private $sniffer;\n\n  path;\n  search;\n  hash;\n  hashPrefix;\n  port;\n  protocol;\n  host;\n  baseHref;\n\n  // .onChange() registry\n  private _urlListeners: Function[] = [];\n\n  dispose() { }\n\n  constructor($locationProvider: ILocationProvider) {\n    this.$locationProvider = $locationProvider;\n    let _lp = val($locationProvider);\n    createProxyFunctions(_lp, this, _lp, ['hashPrefix']);\n  }\n\n  onChange(callback: Function) {\n    this._urlListeners.push(callback);\n    return () => removeFrom(this._urlListeners)(callback);\n  }\n\n  html5Mode() {\n    let html5Mode: any = this.$locationProvider.html5Mode();\n    html5Mode = isObject(html5Mode) ? html5Mode.enabled : html5Mode;\n    return html5Mode && this.$sniffer.history;\n  }\n\n  url(newUrl?: string, replace = false, state?) {\n    if (newUrl) this.$location.url(newUrl);\n    if (replace) this.$location.replace();\n    if (state) this.$location.state(state);\n    return this.$location.url();\n  }\n\n  _runtimeServices($rootScope, $location: ILocationService, $sniffer, $browser) {\n    this.$location = $location;\n    this.$sniffer = $sniffer;\n\n    // Bind $locationChangeSuccess to the listeners registered in LocationService.onChange\n    $rootScope.$on(\"$locationChangeSuccess\", evt => this._urlListeners.forEach(fn => fn(evt)));\n    let _loc = val($location);\n    let _browser = val($browser);\n\n    // Bind these LocationService functions to $location\n    createProxyFunctions(_loc, this, _loc, [\"replace\", \"path\", \"search\", \"hash\"]);\n    // Bind these LocationConfig functions to $location\n    createProxyFunctions(_loc, this, _loc, ['port', 'protocol', 'host']);\n    // Bind these LocationConfig functions to $browser\n    createProxyFunctions(_browser, this, _browser, ['baseHref']);\n  }\n\n  /**\n   * Applys ng1-specific path parameter encoding\n   *\n   * The Angular 1 `$location` service is a bit weird.\n   * It doesn't allow slashes to be encoded/decoded bi-directionally.\n   *\n   * See the writeup at https://github.com/angular-ui/ui-router/issues/2598\n   *\n   * This code patches the `path` parameter type so it encoded/decodes slashes as ~2F\n   *\n   * @param router\n   */\n  static monkeyPatchPathParameterType(router: UIRouter) {\n    let pathType: ParamType = router.urlMatcherFactory.type('path');\n\n    pathType.encode = (val: any) =>\n        val != null ? val.toString().replace(/(~|\\/)/g, m => ({ '~': '~~', '/': '~2F' }[m])) : val;\n\n    pathType.decode = (val: string) =>\n        val != null ? val.toString().replace(/(~~|~2F)/g, m => ({ '~~': '~', '~2F': '/' }[m])) : val;\n\n  }\n}\n","/** @module url */ /** */\nimport {\n    UIRouter, UrlRouter, LocationServices, $InjectorLike, BaseUrlRule, UrlRule, UrlRuleType, UrlRuleHandlerFn, UrlMatcher,\n    IInjectable\n} from \"ui-router-core\";\nimport { services, isString, isFunction, isArray, identity } from \"ui-router-core\";\n\nexport interface RawNg1RuleFunction {\n  ($injector: $InjectorLike, $location: LocationServices): string|void;\n}\n\n/**\n * Manages rules for client-side URL\n *\n * ### Deprecation warning:\n * This class is now considered to be an internal API\n * Use the [[UrlService]] instead.\n * For configuring URL rules, use the [[UrlRulesApi]] which can be found as [[UrlService.rules]].\n *\n * This class manages the router rules for what to do when the URL changes.\n *\n * This provider remains for backwards compatibility.\n *\n * @deprecated\n */\nexport class UrlRouterProvider {\n  /** @hidden */ _router: UIRouter;\n  /** @hidden */ _urlRouter: UrlRouter;\n\n  /** @hidden */\n  constructor(router: UIRouter) {\n    this._router = router;\n    this._urlRouter = router.urlRouter;\n  }\n\n  /** @hidden */\n  $get() {\n    let urlRouter = this._urlRouter;\n    urlRouter.update(true);\n    if (!urlRouter.interceptDeferred) urlRouter.listen();\n    return urlRouter;\n  }\n\n  /**\n   * Registers a url handler function.\n   *\n   * Registers a low level url handler (a `rule`).\n   * A rule detects specific URL patterns and returns a redirect, or performs some action.\n   *\n   * If a rule returns a string, the URL is replaced with the string, and all rules are fired again.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // Here's an example of how you might allow case insensitive urls\n   *   $urlRouterProvider.rule(function ($injector, $location) {\n   *     var path = $location.path(),\n   *         normalized = path.toLowerCase();\n   *\n   *     if (path !== normalized) {\n   *       return normalized;\n   *     }\n   *   });\n   * });\n   * ```\n   *\n   * @param ruleFn\n   * Handler function that takes `$injector` and `$location` services as arguments.\n   * You can use them to detect a url and return a different url as a string.\n   *\n   * @return [[UrlRouterProvider]] (`this`)\n   */\n  rule(ruleFn: RawNg1RuleFunction): UrlRouterProvider {\n    if (!isFunction(ruleFn)) throw new Error(\"'rule' must be a function\");\n\n    const match = () =>\n        ruleFn(services.$injector, this._router.locationService);\n\n    let rule = new BaseUrlRule(match, identity);\n    this._urlRouter.rule(rule);\n    return this;\n  };\n\n  /**\n   * Defines the path or behavior to use when no url can be matched.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // if the path doesn't match any of the urls you configured\n   *   // otherwise will take care of routing the user to the\n   *   // specified url\n   *   $urlRouterProvider.otherwise('/index');\n   *\n   *   // Example of using function rule as param\n   *   $urlRouterProvider.otherwise(function ($injector, $location) {\n   *     return '/a/valid/url';\n   *   });\n   * });\n   * ```\n   *\n   * @param rule\n   * The url path you want to redirect to or a function rule that returns the url path or performs a `$state.go()`.\n   * The function version is passed two params: `$injector` and `$location` services, and should return a url string.\n   *\n   * @return {object} `$urlRouterProvider` - `$urlRouterProvider` instance\n   */\n  otherwise(rule: string | RawNg1RuleFunction): UrlRouterProvider {\n    let urlRouter = this._urlRouter;\n\n    if (isString(rule)) {\n      urlRouter.otherwise(rule);\n    } else if (isFunction(rule)) {\n      urlRouter.otherwise(() => rule(services.$injector, this._router.locationService));\n    } else {\n      throw new Error(\"'rule' must be a string or function\");\n    }\n\n    return this;\n  };\n\n  /**\n   * Registers a handler for a given url matching.\n   *\n   * If the handler is a string, it is\n   * treated as a redirect, and is interpolated according to the syntax of match\n   * (i.e. like `String.replace()` for `RegExp`, or like a `UrlMatcher` pattern otherwise).\n   *\n   * If the handler is a function, it is injectable.\n   * It gets invoked if `$location` matches.\n   * You have the option of inject the match object as `$match`.\n   *\n   * The handler can return\n   *\n   * - **falsy** to indicate that the rule didn't match after all, then `$urlRouter`\n   *   will continue trying to find another one that matches.\n   * - **string** which is treated as a redirect and passed to `$location.url()`\n   * - **void** or any **truthy** value tells `$urlRouter` that the url was handled.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   $urlRouterProvider.when($state.url, function ($match, $stateParams) {\n   *     if ($state.$current.navigable !== state ||\n   *         !equalForKeys($match, $stateParams) {\n   *      $state.transitionTo(state, $match, false);\n   *     }\n   *   });\n   * });\n   * ```\n   *\n   * @param what A pattern string to match, compiled as a [[UrlMatcher]].\n   * @param handler The path (or function that returns a path) that you want to redirect your user to.\n   * @param ruleCallback [optional] A callback that receives the `rule` registered with [[UrlMatcher.rule]]\n   *\n   * Note: the handler may also invoke arbitrary code, such as `$state.go()`\n   */\n  when(what: (RegExp|UrlMatcher|string), handler: string|IInjectable) {\n    if (isArray(handler) || isFunction(handler)) {\n      handler = UrlRouterProvider.injectableHandler(this._router, handler);\n    }\n\n    this._urlRouter.when(what, handler as any);\n    return this;\n  };\n\n  static injectableHandler(router: UIRouter, handler): UrlRuleHandlerFn {\n    return match =>\n        services.$injector.invoke(handler, null, { $match: match, $stateParams: router.globals.params });\n  }\n\n  /**\n   * Disables monitoring of the URL.\n   *\n   * Call this method before UI-Router has bootstrapped.\n   * It will stop UI-Router from performing the initial url sync.\n   *\n   * This can be useful to perform some asynchronous initialization before the router starts.\n   * Once the initialization is complete, call [[listen]] to tell UI-Router to start watching and synchronizing the URL.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // Prevent $urlRouter from automatically intercepting URL changes;\n   *   $urlRouterProvider.deferIntercept();\n   * })\n   *\n   * app.run(function (MyService, $urlRouter, $http) {\n   *   $http.get(\"/stuff\").then(function(resp) {\n   *     MyService.doStuff(resp.data);\n   *     $urlRouter.listen();\n   *     $urlRouter.sync();\n   *   });\n   * });\n   * ```\n   *\n   * @param defer Indicates whether to defer location change interception.\n   *        Passing no parameter is equivalent to `true`.\n   */\n  deferIntercept(defer?: boolean) {\n    this._urlRouter.deferIntercept(defer);\n  };\n}\n","/**\n * Main entry point for angular 1.x build\n * @module ng1\n */ /** */\n\nimport * as core from \"ui-router-core\";\nexport { core };\nexport * from \"ui-router-core\";\n\nexport * from \"./interface\";\nexport * from \"./services\";\nexport * from \"./statebuilders/views\";\nexport * from \"./stateProvider\";\nexport * from \"./urlRouterProvider\";\n\nimport \"./injectables\";\nimport \"./directives/stateDirectives\";\nimport \"./stateFilters\";\nimport \"./directives/viewDirective\";\nimport \"./viewScroll\";\n\nexport default \"ui.router\";\n"],"names":["fn","args","length","func_args_length","apply","curried","concat","slice","arguments","initial_args","start","i","result","this","call","_i","funcs","compose","reverse","fn1","fn2","fnName","obj","struct","x","val","isArray","head","tail","filter","not","isString","isFunction","source","target","bind","fnNames","latebind","bindFunction","makeLateRebindFn","Object","keys","reduce","acc","name","array","indexOf","idx","splice","arr","push","opts","defaultsList","_defaultsList","defaultVals","extend","pick","first","second","path","n","propNames","copy","forEach","prop","isDefined","inArray","key","collection","propName","map","callback","accept","item","predicateOrMap","errMsg","Error","maxArrayLen","min","Math","memo","keyValTuple","value","undefined","src","dest","cb","_this","toObj","j","o1","o2","t1","t2","tup","all","_arraysEq","isDate","getTime","isRegExp","toString","predicates","any","b","_equals","a1","a2","arrayTuples","t","viewData","id","creationContext","fqn","input","isNumber","Category","state","criterion","_state","globStrings","toMatch","glob","Glob","matches","matchFn","matchGlobs","registry","transitionService","eventType","matchObject","options","registeredHook","RegisteredHook","hooks","_deregistered","removeFrom","_registeredHooks","hookRegistrationFn","reverseDepthSort","l","r","factor","depthDelta","node","hook","priority","type","mode","allTruthyMode","arrayWrap","arrayUnwrap","val1","val2","left","right","paramTypeFn","wrapperFn","arrayEqualsHandler","arrayHandler","dynamic","pattern","inherit","is","$arrayMode","cfg","isShorthand","getStaticDefaultValue","$$fn","isInjectable","urlType","location","paramTypes","DefType","CONFIG","PATH","SEARCH","ParamType","config","isOptional","defaultPolicy","squash","arrayMode","replace","configuredKeys","from","to","max","str","substr","camelCase","$1","toLowerCase","fnStr","fnToString","namedFunctionMatch","match","toStr","_fn","o","isObject","seen","stringifyPattern","JSON","stringify","format","delim","re","RegExp","split","identity","pushR","makeDefaultType","def","valToString","defaultTypeBase","encode","decode","String","equals","a","ParamTypes","prototype","string","query","hash","int","parseInt","isNullOrUndefined","bool","Boolean","date","getFullYear","getMonth","getDate","join","capture","exec","Date","isNaN","valueOf","json","toJson","fromJson","self","$$state","parent","data","includes","objects2Tuples","resolveObj","resolvePolicies","token","deps","policy","annotate","$injector","services","strictDi","isResolveLiteral","resolveFn","isLikeNg2Provider","provide","useValue","useFactory","useExisting","useClass","isTupleFromObj","p","literal2Resolvable","Resolvable","dependencies","tuple2Resolvable","pipe","tuple","item2Resolvable","decl","resolve","items","resolvePolicy","param","surroundPattern","url","isHtml5","absolute","baseHref","handler","TargetState","isDef","trans","addResolvable","UIRouter","router","Transition","params","entering","hookName","transition","hookFn","Array","states","stateRegistry","register","lazyLoadFn","lazyLoad","promise","success","error","err","$q","reject","when","then","updateStateRegistry","ignored","trace","traceTransitionIgnored","Rejection","toPromise","valid","orEmptyString","_a","beforehash","_b","search","serviceClass","configurationClass","dispose","service","configuration","locationService","locationConfig","templateFactory","view","get","Ng1ViewConfig","tplKeys","ctrlKeys","compKeys","nonCompKeys","allViewKeys","views","hasAnyKey","viewsObject","$default","component","resolveAs","$type","$context","$name","normalized","ViewService","normalizeUIViewTarget","$uiViewName","uiViewName","$uiViewContextAnchor","uiViewContextAnchor","cmpDefs","getBindings","unnestR","$locationProvider","$location","$browser","$sniffer","$rootScope","$http","$templateCache","ng1LocationService","_runtimeServices","stateProvider","StateProvider","stateService","decorator","ng1ViewsBuilder","getStateHookBuilder","viewService","_pluginapi","_viewConfigFactory","getNg1ViewConfigFactory","Ng1LocationServices","monkeyPatchPathParameterType","$get","$inject","$uiRouter","resolvables","resolvable","$watch","approximateDigests","ref","parsed","paramsOnly","paramExpr","el","$uiView","inheritedData","parse","$state","$element","uiState","current","uiStateOpts","defaultOpts","href","uiStateParams","isSvg","isForm","nodeName","attr","isAnchor","toUpperCase","clickable","$timeout","getDef","e","button","which","ctrlKey","metaKey","shiftKey","go","preventDefault","ignorePreventDefaultCount","cancel","relative","stateContext","$current","element","scope","events","on","events_1","event_1","$on","off","events_2","event_2","isFilter","$stateful","includesFilter","$compile","$controller","$transitions","$view","getControllerAs","getResolveAs","restrict","compile","tElement","initial","html","empty","contents","$cfg","viewDecl","getTemplate","noop","resolveCtx","ResolveContext","traceUIViewFill","link","controller","controllerAs","locals","getLocals","controllerInstance","$scope","children","registerControllerCallbacks","cmp_1","kebobName","kebobString","tagRegexp_1","getComponentController","directiveEl","tagName","angular","deregisterWatch_1","ctrlInstance","$onInit","hasComponentImpl","viewState","hookOptions","uiOnParamsChanged","resolveContext","viewCreationTrans_1","getResolvable","paramsUpdated","$transition$","exiting","toParams","fromParams","toSchema","treeChanges","paramSchema","fromSchema","changedToParams","changedKeys_1","newValues","onSuccess","uiCanExit","id_1","_uiCanExitId","cacheProp_1","prevTruthyAnswer_1","redirectedFrom","wrappedHook","ids","criteria","onBefore","useAnchorScroll","$anchorScroll","scrollIntoView","propEq","curry","ctor","constructor","eq","other","v","text","regexpString","seg","regexp","test","StateObject","create","stateDecl","isStateClass","__stateObjectCache","nameGlob","fromString","root","defaults","matchingKeys","inherited","parameters","values","hasOwnProperty","parameter","find","tis","isUndefined","isNull","or","isState","isPromise","and","notImplemented","fnname","w","window","_copy","_forEach","assign","_extend","extra","_inArray","_removeFrom","pushTo","_pushTo","deregAll","functions","mergeR","mapObj","allTrueR","elem","anyTrueR","flattenR","uniqR","unnest","flatten","assertPredicate","assertFn","assertMap","pairs","sortBy","propFn","checkFn","composeSort","sortFns","prev","silenceUncaughtInPromise","catch","silentRejection","_items","_limit","Queue","shift","size","RejectType","message","detail","detailString","d","$id","_transitionRejection","rejection","SUPERSEDED","redirected","superseded","INVALID","IGNORED","ABORTED","ERROR","errored","viewConfigString","viewConfig","_tid","_rid","transLbl","Trace","enabled","categories","k","normalizedCat","category","_enabled","_set","TRANSITION","console","log","step","HOOK","event","context","functionToString","maxLength","hookResult","transitionOptions","RESOLVE","reason","finalState","UIVIEW","padString","uiViewString","traceUIViewEvent","VIEWCONFIG","TransitionHookPhase","TransitionHookScope","_identifier","_definition","_params","_options","base","stateName","defaultOptions","traceData","synchronous","TransitionHook","defaultErrorHandler","traceHookInvocation","isSuperseded","invokeCallback","normalizeErr","normalize","handleError","getErrorHandler","handleResult","getResultHandler","handleHookResult","traceHookResult","aborted","isTargetState","waitFor","createHookChainR","nextHook","invokeHook","logError","tranSvc","matchCriteria","nodes","matching","matchState","_getPathTypes","_getDefaultMatchCriteria","paths","mn","pathtype","isStateHook","STATE","_matchingNodes","_getMatchingNodes","allMatched","every","HookBuilder","phase","_getEvents","buildHooks","hookType","matchingHooks","getMatchingHooks","baseHookOptions","makeTransitionHooks","matchingNodes","criteriaMatchPath","transitionHook","sort","tupleSort","reverseSort","isCreate","hookPhase","CREATE","registries","reg","getHooks","sub","isSearch","ArrayType","hasOwn","urlMatcherFactory","arrayDefaults","arrayParamNomenclature","unwrapShorthand","getType","getArrayMode","$asArray","raw","getSquashPolicy","defaultSquashPolicy","getReplace","Param","getDefaultValue","_defaultValueCache","defaultValue","invoke","replaceSpecialValues","$normalize","encoded","paramValues","params_1","values1","values2","changed","validates","stateOrPath","PathNode","res","clone","getParamVal","paramDef","pDef","applyPairs","paramValsEq","pathA","pathB","ignoreDynamicParams","changedParams","PathFactory","targetState","applyRawParams","fromPath","toPath","buildPath","inheritParams","viewDecls","subPath","viewConfigs","createViewConfig","toKeys","toNode","toParamVals","incomingParamVals","omit","fromParamVals","nodeParamVals","noInherit","ownParamVals","makeInheritedParamsNode","reloadState","retainedNode","cloned","keep","staticParams","nodesMatch","node1","node2","retained","retainedWithToParams","applyToParams","predicate","elementIdx","defaultResolvePolicy","async","arg1","resolved","literal","thisPolicy","statePolicy","getResolvableDependencies","getDependencies","invokeResolveFn","resolvedDeps","waitForRx","observable$","cached","cache","take","findNode","maybeWaitForRx","getPolicy","applyResolvedValue","resolvedValue","traceResolvableResolved","LAZY","EAGER","WAIT","NOWAIT","RXWAIT","ALL_WHENS","EAGER_WHENS","NATIVE_INJECTOR_TOKEN","_path","newResolvables","whenOption","matchedWhens","traceResolvePath","matchesPolicy","acceptedVals","whenOrAsync","promises","nodeResolvables","nowait","wait","subContext","getResult","_injector","UIInjectorImpl","availableResolvables","getDependency","fromInjector","injector","getNative","native","stateSelf","defer","_deferred","_targetState","_transitionCount","buildToPath","_treeChanges","createTransitionHookRegFns","onCreateHooks","_hookBuilder","buildHooksForPhase","runAllHooks","applyViewConfigs","makeEvent","enteringStates","$from","$to","compare","pathname","freeze","pathName","getTokens","topath","targetNode","addResolvables","rf","originalTransition","redirects","redirectOpts","newOptions","identifier","newTransition","originalEnteringNodes","redirectEnteringNodes","nodeIsReloading","matchingEnteringNodes","tc","reload","pathsDiffer","nodeSchemas","toValues","fromValues","tuples","schema","toVals","fromVals","changes","_changedParams","globals","transitionHistory","enqueue","hooksFor","chainFor","chain","transitionSuccess","traceSuccess","SUCCESS","transitionError","traceError","_error","BEFORE","traceTransitionStart","RUN","abstract","fromStateOrName","toStateOrName","avoidEmptyHash","toValid","stringifyPatternFn","isRejection","isRejectionPromise","beforeAfterSubstr","char","makeType","definition","types","defaultTypes","definitionFn","typeQueue","_flushTypeQueue","initDefaultTypes","StateParams","newParams","parentParams","parents","ancestors","inheritList","parseUrl","charAt","substring","getUrlBuilder","$urlMatcherFactoryProvider","stateDec","paramMap","paramConfig","reloadOnSearch","isMatcher","navigable","append","getNavigableBuilder","isRoot","getParamsBuilder","paramFactory","makeConfigParam","fromConfig","urlParams","nonUrlParams","matcher","parentName","builders","nameBuilder","selfBuilder","parentBuilder","dataBuilder","pathBuilder","includesBuilder","resolvablesBuilder","StateBuilder","parentFn","segments","lastSegment","pop","_states","StateMatcher","stateOrName","isStr","isRelative","resolvePath","baseState","splitName","pathLength","relName","$registry","$urlRouter","builder","listeners","queue","StateQueueManager","flush","registered","orphans","previousQueueLength","getState","name_1","build","orphanIdx","existingState","existingFutureState","deregister","attachRoute","listener","s","rule","urlRuleFactory","_router","stateQueue","urlRouter","_registerRoot","StateRegistry","rootStateDef","#","_root","stateDefinition","getChildren","deregistered","$ur","rules","removeRule","deregisteredStates","_deregisterTree","found","func","memoizeTo","splitOnSlash","splitOnDelim","strict","caseInsensitive","m","segment","placeholder","searchPlaceholder","last","patterns","checkParamErrors","UrlMatcher","nameValidator","matchDetails","makeRegexpType","index","_segments","lastIndex","fromSearch","_compiled","quoteRegExp","_children","_cache","reverseString","unquoteDashes","allReversed","allParams","pathParams","searchParams","nPathSegments","urlm","decodePathArray","findParam","validParamVal","isValid","isDefaultValue","urlMatchers","pathSegmentsAndParams","getDetails","queryParams","isInvalid","pathString","encodeDashes","encodeURIComponent","queryString","paramDetails","c","charCodeAt","staticSegments","cmp","joinNeighborsR","weights","_isStrictMode","_isCaseInsensitive","UrlMatcherFactory","_defaultSquashPolicy","_getConfig","object","UrlRuleFactory","what","makeRule","_what","fromUrlMatcher","fromState","fromRegExp","BaseUrlRule","urlMatcher","optional","matched","_handler","details","matchPriority","transitionTo","global","sticky","redirectUrlTo","Number","defaultRuleSortFn","getMatcher","URLMATCHER","REGEXP","RAW","OTHER","createProxyFunctions","UrlRouter","listen","_rules","_otherwiseFn","compareFn","_sortFn","_sorted","ensureSorted","best","checkRule","weight","evt","defaultPrevented","$url","urlService","applyResult","newurl","_stopFn","onChange","sync","read","html5Mode","hashPrefix","appendBasePath","slash","port","protocol","host","isUrlRule","_id","handlerFn","getHandlerFn","urlParts","interceptDeferred","_rootViewContext","_registeredUIViews","_uiViews","_activeViewConfigs","_viewConfigs","_rootContext","viewType","factory","_viewConfigFactories","cfgFactory","cfgs","traceViewServiceEvent","uiView","stateDepth","count","uiViewsByFqn","uiv","depthCompare","depthFn","posNeg","matchingConfigPair","matchingConfigs","viewConfigDepth","configureUIView","configUpdated","uiViewDepth","traceViewServiceUIViewEvent","uiViews","fqnMatches","rawViewName","viewAtContext","relativeViewNameSugar","relativeMatch","anchor","vc","vcSegments","uivSegments","negOffset","fqnToFirstSegment","uiViewContext","UIRouterGlobals","clear","successfulTransitions","makeStub","locationServicesFns","locationConfigFns","umfFns","rulesFns","syncFns","lateBind","locationServices","umf","UrlService","_routerInstance","locationServiceStub","locationConfigStub","TransitionService","StateService","disposable","_disposables","plugin","pluginInstance","_plugins","pluginName","registerAddCoreResolvables","onCreate","addCoreResolvables","redirectToHook","redirect","redirectTo","registerRedirectToHook","onStart","onExitHook","makeEnterExitRetainHook","registerOnExitHook","onExit","onRetainHook","registerOnRetainHook","onRetain","onEnterHook","registerOnEnterHook","onEnter","eagerResolvePath","registerEagerResolvePath","lazyResolveState","registerLazyResolveState","loadEnteringViews","enteringViews","load","registerLoadEnteringViews","onFinish","activateViews","exitingViews","deactivateViewConfig","activateViewConfig","registerActivateViews","updateGlobalState","clearCurrentTransition","registerUpdateGlobalState","updateUrl","urlOptions","update","registerUpdateUrl","lazyLoadHook","orig","parts","lazyLoadState","retryTransition","registerLazyLoadHook","hookOrder","HANDLE_RESULT","REJECT_ERROR","registerIgnoredTransitionHook","ignoredHook","registerInvalidTransitionHook","invalidTransitionHook","defaultTransOpts","notify","custom","_deregisterHookFns","_defineCorePaths","_defineCoreEvents","_registerCoreTransitionHooks","hooksArray","Phase","TH","_criteriaPaths","NORMAL_SORT","REVERSE_SORT","SYNCHRONOUS","_defineEvent","LOG_REJECTED_RESULT","THROW_ERROR","LOG_ERROR","_definePathType","TransitionEventType","_eventTypes","transitionHookTypes","cmpByPhase","hookScope","fns","addCoreResolves","invalid","eagerResolve","lazyResolve","loadViews","updateGlobals","$error$","stack","getters","boundFns","invalidCallbacks","toState","nextCallback","callbackQueue","dequeue","callbackResult","checkForRedirect","invokeNextCallback","makeTargetState","latestThing","peekTail","latest","defautGoOpts","transOpts","latestSuccess","rootPath","transHistory","currentPath","getCurrentPath","exists","_handleInvalidTargetState","rejectedTransitionHandler","run","errorHandler","transitionToPromise","include","defaultHrefOpts","lossy","$inherit","nav","_defaultErrorHandler","Promise","deferred","STRIP_COMMENTS","ARGUMENT_NAMES","has","ensureExist","splitHash","splitQuery","splitEqual","trimHashVal","keyValsToObjectR","accum","getParams","buildUrl","loc","searchObject","vals","fireAfterUpdate","_listeners","_get","_location","_history","history","BaseLocationServices","evt_1","Event","_super","addEventListener","_listener","__extends","HashLocationService","title","removeEventListener","MemoryLocationService","_url","_config","PushStateLocationService","fullUrl","replaceState","pushState","_port","_protocol","_host","_baseHref","newval","_hashPrefix","_isHtml5","BrowserLocationConfig","newprefix","applyDocumentBaseHref","baseTags","document","getElementsByTagName","origin","hashLocationPlugin","locationPluginFactory","pushStateLocationPlugin","memoryLocationPlugin","MemoryLocationConfig","UIRouterPluginBase","ng_from_global","ng","ng_from_import","ng_from_import.module","makeComponentTemplate","bindings","template","getController","results","provider","controllerProvider","providerFn","version","minor","$templateRequest","TemplateFactory","_useHttp","defaultTemplate","asTemplate","asComponent","templateUrl","fromUrl","templateProvider","fromProvider","componentProvider","fromComponentProvider","headers","Accept","response","prefix","attributeTpl","attrName","resolveName","arrayIdxStr","attrs","getComponentBindings","scopeBindings","bindToController","bindingsObj","onInvalid","$state$","decoratedNg1Hook","_lp","_urlListeners","newUrl","_loc","_browser","pathType","~","/","~~","~2F","_urlRouter","UrlRouterProvider","ruleFn","otherwise","injectableHandler","$match","$stateParams","deferIntercept","module","mod_init","mod_util","mod_rtr","mod_state","mod_main","getProviderFor","serviceName","$urp","runBlock","getUrlRouterProvider","urlRouterProvider","getStateProvider","watchDigests","$urlMatcherFactory","uiSref","ctx","tokens","waitPolicy","require","uiSrefActive","unlinkInfoFn","active","$$addStateInfo","$set","getTypeInfo","rawDef","processedDef","parseStateRef","uiSrefOpts","$eval","onStatesChanged","clickHook","bindEvents","inputAttrs","watchDeregFns","field","$observe","expr","$interpolate","$attrs","stateParams","activeClass","stateInfo","splitClasses","getClasses","stateList","allClasses","activeEqClass","fuzzyClasses","exactlyMatchesAny","exactClasses","addClasses","removeClasses","cls","$evalAsync","className","addClass","removeClass","uiSrefActiveEq","addState","newState","updateAfterTransition","directive","$IsStateFilter","$IncludedByStateFilter","$animate","$uiViewScroll","enter","leave","config1","config2","rootData","terminal","transclude","tAttrs","$transclude","configsEqual","traceUIViewConfigUpdated","activeUIView","updateView","previousEl","remove","currentScope","$destroy","currentEl","_viewData_1","renderer","$$animLeave","newScope","$new","animEnter","animLeave","$uiViewData","$uiViewAnim","$animEnter","$animLeave","$emit","autoScrollExp","cleanupLastView","onloadExp","unregister","getRenderer","configUpdatedCallback","fromParentTagConfig","fromParentTag","registerUIView","$ViewDirectiveFill","$ViewScrollProvider"],"mappings":"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"}